<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.1.0"/>
    <title>doctable.doctable API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../doctable.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;doctable</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#DEFAULT_TABNAME">DEFAULT_TABNAME</a>
            </li>
            <li>
                    <a class="class" href="#DocTable">DocTable</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DocTable.__init__">DocTable</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.dialect">dialect</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.verbose">verbose</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.persistent_conn">persistent_conn</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.readonly">readonly</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.close_conn">close_conn</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.open_conn">open_conn</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.connect">connect</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.reopen_engine">reopen_engine</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.col">col</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.table">table</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.tabname">tabname</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.columns">columns</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.c">c</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.engine">engine</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.schema">schema</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.list_tables">list_tables</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.colnames">colnames</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.primary_keys">primary_keys</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.schema_info">schema_info</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.schema_table">schema_table</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.indices">indices</a>
                        </li>
                        <li>
                                <a class="variable" href="#DocTable.q">q</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.insert">insert</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.insert_many">insert_many</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.insert_single">insert_single</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.count">count</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.head">head</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.select_series">select_series</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.select_df">select_df</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.select_first">select_first</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.select">select</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.join">join</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.select_chunks">select_chunks</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.select_iter">select_iter</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.get_queueinserter">get_queueinserter</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.update">update</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.delete">delete</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.bootstrap">bootstrap</a>
                        </li>
                        <li>
                                <a class="function" href="#DocTable.clean_col_files">clean_col_files</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../doctable.html">doctable</a><wbr>.doctable    </h1>

                
                        <input id="mod-doctable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-doctable-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="kn">import</span> <span class="nn">collections</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">import</span> <span class="nn">pprint</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">import</span> <span class="nn">random</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">import</span> <span class="nn">copy</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">from</span> <span class="nn">glob</span> <span class="kn">import</span> <span class="n">glob</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="kn">import</span> <span class="nn">typing</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">List</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">import</span> <span class="nn">dataclasses</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="kn">import</span> <span class="nn">warnings</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="c1">#from .schema import SchemaObject, DocTableSchema</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="kn">from</span> <span class="nn">doctable.util</span> <span class="kn">import</span> <span class="n">QueueInserter</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="c1"># operators like and_, or_, and not_, functions like sum, min, max, etc</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="c1">#import sqlalchemy as sa</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="kn">import</span> <span class="nn">sqlalchemy</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">from</span> <span class="nn">.util</span> <span class="kn">import</span> <span class="n">is_sequence</span><span class="p">,</span> <span class="n">parse_static_arg</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="kn">from</span> <span class="nn">.schema</span> <span class="kn">import</span> <span class="n">SchemaObject</span><span class="p">,</span> <span class="n">FileTypeBase</span><span class="p">,</span> <span class="n">DocTableSchema</span><span class="p">,</span> <span class="n">Constraint</span><span class="p">,</span> <span class="n">Index</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">DocBootstrap</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="c1">#from .util import list_tables</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="kn">from</span> <span class="nn">.connectengine</span> <span class="kn">import</span> <span class="n">ConnectEngine</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="kn">from</span> <span class="nn">.query</span> <span class="kn">import</span> <span class="n">Query</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="kn">from</span> <span class="nn">.schema</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>    <span class="n">StringSchema</span><span class="p">,</span> 
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>    <span class="n">DataclassSchema</span><span class="p">,</span> 
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>    <span class="n">InferredSchema</span><span class="p">,</span> 
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>    <span class="n">RowDictSchema</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>    <span class="n">RowToObjectConversionFailedError</span><span class="p">,</span> 
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>    <span class="n">has_attr_map</span><span class="p">,</span> 
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>    <span class="n">has_rowdict</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="p">)</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="n">DEFAULT_TABNAME</span> <span class="o">=</span> <span class="s1">&#39;_documents_&#39;</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="k">class</span> <span class="nc">DocTable</span><span class="p">:</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="w">    </span><span class="sd">&#39;&#39;&#39; Class for managing a single database table.</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="sd">    Description: This class manages schema and connection information to provide</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="sd">        an object-based interface to perform queries on a single table </span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="sd">        in a database (although multi-table designs are possible with </span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="sd">        multiple DocTables). It is designed to maintain informabout about the </span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="sd">        underlying database structure of the table, making it possible to </span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="sd">        execute queries without using the SQL language.</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="sd">    Settable static attributes (overridden if related constructor argument passed):</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="sd">        _target_ (str): target database to connect to - used when a doctable</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">            will always connect to the same target (i.e., a server etc).</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">        _tabname_ (str): name of table to connect to (and create).</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="sd">        _schema_ (DocTableSchema): schema definition for this doctable, to be used</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">            when creating a new table and to manage table information.</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">        _indices_ (dict): indices to apply to the table</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="sd">        _constraints_ (list): constraints to apply to the table</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">        _doctable_args_ (dict): any other constructor arguments that should always</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="sd">            be used when instantiating. Overridden by providing arguments</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">            to the constructor.</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">    &#39;&#39;&#39;</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>            <span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">DocTableSchema</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tabname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>            <span class="n">indices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Constraint</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>            <span class="n">dialect</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;sqlite&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">:</span> <span class="n">ConnectEngine</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>            <span class="n">readonly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">new_db</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">new_table</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> 
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>            <span class="n">persistent_conn</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>            <span class="n">allow_inconsistent_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">create_indices</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>            <span class="o">**</span><span class="n">engine_kwargs</span><span class="p">):</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Create new database.</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="sd">        Args:</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="sd">            target (str): filename for database to connect to. &quot;:memory:&quot; is a </span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">                special value indicating to the python sqlite engine that the db</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">                should be created in memory. Will create new empty database file</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="sd">                if it does not exist and new_db==True, and add a new table using</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">                specified schema if new_table==True.</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="sd">            tabname (str): table name for this specific doctable.</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="sd">            schema (type or list&lt;list&gt;): schema from which to create db. Includes a</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="sd">                list of column names and types (including contraints and indexes) as tuples</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="sd">                defined according to information needed to construct the sqlalchemy</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">                objects. Alternatively, can be a schema class (see docs).</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">            dialect (str): database engine through which to construct db.</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">                For more info, see sqlalchemy dialect info:</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="sd">                https://docs.sqlalchemy.org/en/13/dialects/</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="sd">            engine (ConnectEngine): engine from another doctable if working with different</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="sd">                tables in the same db.</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="sd">            readonly (bool): Prevents user from calling insert(), delete(), or </span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a><span class="sd">                update(). Will not block other sql possible commands.</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="sd">            new_db (bool): Indicate if new db file should be created given </span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="sd">                that a schema is provided and the db file doesn&#39;t exist.</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="sd">            new_table (bool): Allow doctable to create a new table if one </span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="sd">                doesn&#39;t exist already.</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">            persistent_conn (bool): whether or not to create a persistent conn </span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a><span class="sd">                to database. Otherwise will create temporary connection for each</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="sd">                query.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="sd">            verbose (bool): Print every sql command before executing.</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">            engine_kwargs (**kwargs): Pass directly to the sqlalchemy</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="sd">                .create_engine() as connect_args. Args typically vary by dialect.</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">                Example: connect_args={&#39;timeout&#39;: 15} for sqlite</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">                or connect_args={&#39;connect_timeout&#39;: 15} for PostgreSQL.</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>        <span class="c1"># handle defaults</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>        <span class="n">tabname</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tabname</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_tabname_&#39;</span><span class="p">,</span> <span class="n">DEFAULT_TABNAME</span><span class="p">)</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_schema_&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>        <span class="n">target</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_target_&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="c1"># dependent args</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>        <span class="k">if</span> <span class="n">readonly</span><span class="p">:</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>            <span class="n">new_db</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>            <span class="n">new_table</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="c1"># if no engine or schema is provided, the database must already exist and user intends to infer</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>        <span class="k">if</span> <span class="n">dialect</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;sqlite&#39;</span><span class="p">):</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>            <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">engine</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">target</span> <span class="o">==</span> <span class="s1">&#39;:memory:&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target</span><span class="p">)):</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Schema must be provided if using memory database or &#39;</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>                             <span class="s1">&#39;database file does not exist yet. Need to provide schema &#39;</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>                             <span class="s1">&#39;when creating a new table.&#39;</span><span class="p">)</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="c1"># set target and engine</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>        <span class="k">if</span> <span class="n">target</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>                <span class="n">target</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">target</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Either target or engine must be provided.&#39;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>        
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">engine</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>        <span class="k">elif</span> <span class="n">engine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">ConnectEngine</span><span class="p">(</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>                <span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="p">,</span> 
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>                <span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span><span class="p">,</span> 
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>                <span class="n">new_db</span> <span class="o">=</span> <span class="n">new_db</span><span class="p">,</span> 
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>                <span class="o">**</span><span class="n">engine_kwargs</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>            <span class="p">)</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot provide both target and engine.&#39;</span><span class="p">)</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>        <span class="c1"># store arguments as-is</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span> <span class="o">=</span> <span class="n">tabname</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_target</span> <span class="o">=</span> <span class="n">target</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_new_db</span> <span class="o">=</span> <span class="n">new_db</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>        <span class="c1"># flags</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span> <span class="o">=</span> <span class="n">persistent_conn</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">readonly</span> <span class="o">=</span> <span class="n">readonly</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_new_table</span> <span class="o">=</span> <span class="n">new_table</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>                
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>        <span class="c1"># connect to existing table or create new one</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="c1"># NOTE: this is not a good way to detect the schema type - make something more obvious</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;_doctable_from_row_obj&#39;</span><span class="p">):</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">RowDictSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>                <span class="n">schema_class</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>                <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">,</span> <span class="c1"># need these if we want to grab from constructor</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>                <span class="n">constraints</span> <span class="o">=</span> <span class="n">constraints</span><span class="p">,</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>            <span class="p">)</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>        <span class="k">elif</span> <span class="n">has_attr_map</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">DataclassSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>                <span class="n">schema_class</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>                <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">,</span> <span class="c1"># need these if we want to grab from constructor</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>                <span class="n">constraints</span> <span class="o">=</span> <span class="n">constraints</span><span class="p">,</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>            <span class="p">)</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>        <span class="k">elif</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">StringSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>                <span class="n">schema_list</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>                <span class="n">default_fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_target</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">,</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>            <span class="p">)</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>            <span class="c1">#self._schema = None # inferred from existing table</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">InferredSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>        <span class="c1"># add this table</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>            <span class="n">tabname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">,</span> 
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> 
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>            <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>            <span class="n">constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">constraints</span><span class="p">,</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>            <span class="n">new_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_new_table</span><span class="p">,</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>            <span class="n">allow_inconsistent_schema</span> <span class="o">=</span> <span class="n">allow_inconsistent_schema</span><span class="p">,</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>            <span class="n">create_indices</span> <span class="o">=</span> <span class="n">create_indices</span><span class="p">,</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>        <span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>        <span class="c1"># create persistent connection to database if requested</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>        
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Closes database connection to prevent locking db.</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>        <span class="c1"># apparently engines and connections are garbage collected using event handlers?</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>        <span class="c1"># I don&#39;t understand this, but solved some big issues by just doing nothing.</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>        
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>        <span class="c1">#self._engine.remove_table(self._table) # remove from engine metadata</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>        <span class="c1">#self.close_conn()</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>        <span class="k">pass</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>        
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>    
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>    <span class="c1">#################### Connection Methods ###################</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Calls .open_conn()</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">open_conn</span><span class="p">()</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Calls .close_conn()</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_conn</span><span class="p">()</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>    
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>    <span class="k">def</span> <span class="nf">close_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Closes connection to db (if one exists). &#39;&#39;&#39;</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>    
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>    <span class="k">def</span> <span class="nf">open_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Opens connection to db (if one does not exist). &#39;&#39;&#39;</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>        
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">Connection</span><span class="p">:</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Returns a connection from the sqlalchemy engine.&#39;&#39;&#39;</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>    
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="nf">reopen_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">open_conn</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Opens connection engine. </span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="sd">        Args:</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a><span class="sd">            open_conn (bool): create a new db connection.</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_conn</span><span class="p">()</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">reopen</span><span class="p">()</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>        <span class="k">if</span> <span class="n">open_conn</span> <span class="ow">or</span> <span class="p">(</span><span class="n">open_conn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span><span class="p">):</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_conn</span><span class="p">()</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>    <span class="c1">#################### Dunder ###################</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>    
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s1"> cols)::</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="p">)</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="si">}</span><span class="s1">&gt;&#39;</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>    
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>    
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>    
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>    <span class="c1">#################### Expose Underlying Table ###################</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colname</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">:</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Accesses a column object by calling .col().&#39;&#39;&#39;</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">colname</span><span class="p">)</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>    
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>    <span class="k">def</span> <span class="nf">col</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">:</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Accesses a column object.</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a><span class="sd">        Args:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a><span class="sd">            Name of column to access. Applied as subscript to </span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a><span class="sd">                sqlalchemy columns object.</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">):</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>            <span class="k">return</span> <span class="n">name</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">c</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>        
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>    <span class="nd">@property</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>    <span class="k">def</span> <span class="nf">table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Table</span><span class="p">:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Returns underlying sqlalchemy table object for manual manipulation.</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>    
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>    <span class="nd">@property</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>    <span class="k">def</span> <span class="nf">tabname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Gets name of table for this connection.&#39;&#39;&#39;</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>    
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>    <span class="nd">@property</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>    <span class="k">def</span> <span class="nf">columns</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">ImmutableColumnCollection</span><span class="p">:</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Exposes SQLAlchemy core table columns object.</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">c</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>    <span class="nd">@property</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>    <span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">ImmutableColumnCollection</span><span class="p">:</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Alias for self.columns.</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">c</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>    
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>    <span class="nd">@property</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>    <span class="k">def</span> <span class="nf">engine</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConnectEngine</span><span class="p">:</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>    
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>    <span class="nd">@property</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>    <span class="k">def</span> <span class="nf">schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataclassSchema</span><span class="p">:</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>    
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>    <span class="k">def</span> <span class="nf">list_tables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">list_tables</span><span class="p">()</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>    <span class="k">def</span> <span class="nf">colnames</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>    <span class="k">def</span> <span class="nf">primary_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_info</span><span class="p">()</span> <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="s1">&#39;primary_key&#39;</span><span class="p">]]</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>    
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>    <span class="k">def</span> <span class="nf">schema_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Get info about each column as a dictionary.</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a><span class="sd">        Returns:</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a><span class="sd">            dict&lt;dict&gt;: info about each column.</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>    
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>    <span class="k">def</span> <span class="nf">schema_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Get info about each column as a dictionary.</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a><span class="sd">        Returns:</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a><span class="sd">            DataFrame: info about each column.</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">schema_df</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>    
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>    <span class="k">def</span> <span class="nf">indices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">inspector</span><span class="o">.</span><span class="n">get_indexes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>    
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>    <span class="c1">#################### Expose Query Functionality ###################</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>    
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>    <span class="nd">@property</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>    <span class="k">def</span> <span class="nf">q</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Query</span><span class="p">:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Gets a query object for this doctable.&#39;&#39;&#39;</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>        <span class="k">return</span> <span class="n">Query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>    
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>    <span class="c1">################# CRITICAL SQL METHODS ##################</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>    
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">ResultProxy</span><span class="p">:</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Execute an sql command. Called by most higher-level functions.</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a><span class="sd">        Args:</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a><span class="sd">            query (sqlalchemy condition or str): query to execute;</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="sd">                can be provided as sqlalchemy condition object or</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a><span class="sd">                plain sql text.</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a><span class="sd">            verbose (bool or None): Print SQL command issued before</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a><span class="sd">                execution.</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>        <span class="n">prstr</span> <span class="o">=</span> <span class="s1">&#39;DocTable: </span><span class="si">{}</span><span class="s1">&#39;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>        <span class="k">if</span> <span class="n">verbose</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">prstr</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">prstr</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>        
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>    
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>    <span class="k">def</span> <span class="nf">_execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="n">conn</span><span class="p">:</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">Connection</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">ResultProxy</span><span class="p">:</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Execute sql query using either existing connection, provided connection, or without a connection.</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>        <span class="c1"># takes raw query object</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>        <span class="k">if</span> <span class="n">conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>            <span class="c1"># execute query using connectengine directly</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>        <span class="k">return</span> <span class="n">r</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>    
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>    <span class="c1">################# DEPRICATED: ALL BELOW THIS HAS BEEN DEPRICATED ##################</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>    <span class="c1">################# INSERT METHODS ##################</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>            
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>            <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]],</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>            <span class="o">*</span><span class="n">args</span><span class="p">,</span> 
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>        <span class="p">):</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_single() or .q.insert_multi().&#39;&#39;&#39;</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .insert() is depricated. Please use .q.insert_single(), &#39;</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>            <span class="s1">&#39;.q.insert_single_raw(), .q.insert_multi(), or .q.insert_multi() instead.&#39;</span><span class="p">)</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>        
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>        <span class="k">if</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">rowdata</span><span class="p">):</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_many</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_single</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>    
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>    <span class="k">def</span> <span class="nf">insert_many</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>            <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]],</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>            <span class="o">*</span><span class="n">args</span><span class="p">,</span> 
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>            <span class="o">**</span><span class="n">kwargs</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>        <span class="p">):</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_multi(), .q.insert_multi_raw()&#39;&#39;&#39;</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.insert_many() is depricated: please use .q.insert_multi() or &#39;</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>            <span class="s1">&#39;.q.insert_multi_raw()&#39;</span><span class="p">)</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">rowdata</span><span class="p">):</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;insert_many needs a list or tuple of schema objects.&#39;</span><span class="p">)</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>        
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowdata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rowdata</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_multi_raw</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_multi</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>    
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>    <span class="k">def</span> <span class="nf">insert_single</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_single(), .q.insert_single_raw().&#39;&#39;&#39;</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.insert_single() is depricated: please use .q.insert_single() or &#39;</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>            <span class="s1">&#39;.q.insert_single_raw()&#39;</span><span class="p">)</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>        
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_single_raw</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_single</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>    
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>    <span class="c1">################# SELECT METHODS ##################</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>    
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.count(), Query.count().&#39;&#39;&#39;</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .count() is depricated. Please use .q.count() instead.&#39;</span><span class="p">)</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>        
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>    <span class="k">def</span> <span class="nf">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_head(), Query.select_head().&#39;&#39;&#39;</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .head() is depricated. Please use .q.select_head() instead.&#39;</span><span class="p">)</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">]</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_head</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>    <span class="k">def</span> <span class="nf">select_series</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">:</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_series(), Query.select_series().&#39;&#39;&#39;</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_series() is depricated. Please use .q.select_series() instead.&#39;</span><span class="p">)</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_series</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>    <span class="k">def</span> <span class="nf">select_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_df(), Query.select_df().&#39;&#39;&#39;</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_df() is depricated. Please use .q.select_df() instead.&#39;</span><span class="p">)</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">]</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_df</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>    
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>    <span class="k">def</span> <span class="nf">select_first</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_first(), Query.select_first().&#39;&#39;&#39;</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_first() is depricated. Please use .q.select_first() instead.&#39;</span><span class="p">)</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>        <span class="k">if</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The &quot;as_dataclass&quot; parameter has been depricated: please set get_raw=True or &#39;</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>                <span class="s1">&#39;select_raw to specify that you would like to retrieve a raw RowProxy pobject.&#39;</span><span class="p">)</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>        
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_scalar</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>            
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>            <span class="c1"># determine to get result as a dataclass or not</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>            <span class="n">raw_result</span> <span class="o">=</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">as_dataclass</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>            
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_first</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">raw_result</span><span class="o">=</span><span class="n">raw_result</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>            <span class="k">except</span> <span class="n">RowToObjectConversionFailedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Conversion from row to object failed according to the following &#39;</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>                    <span class="sa">f</span><span class="s1">&#39;error. Please use .q.select_first(..,raw_result=True) next time &#39;</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>                    <span class="sa">f</span><span class="s1">&#39;in the future to avoid this issue. </span><span class="si">{</span><span class="n">e</span><span class="si">=}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_first</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">raw_result</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>            
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>            
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>    
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select(), Query.select().&#39;&#39;&#39;</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select() is depricated. Please use .q.select() instead.&#39;</span><span class="p">)</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>        <span class="k">if</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The &quot;as_dataclass&quot; parameter has been depricated: please set get_raw=True or &#39;</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>                <span class="s1">&#39;select_raw to specify that you would like to retrieve a raw RowProxy pobject.&#39;</span><span class="p">)</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>        
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>        <span class="n">raw_result</span> <span class="o">=</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">as_dataclass</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_col</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>            <span class="k">if</span> <span class="n">raw_result</span><span class="p">:</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_raw</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>                <span class="k">except</span> <span class="n">RowToObjectConversionFailedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Conversion from row to object failed according to the following &#39;</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>                        <span class="sa">f</span><span class="s1">&#39;error. Please use .q.select_raw() when requesting non-object formatted &#39;</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>                        <span class="sa">f</span><span class="s1">&#39;data such as counts or sums in the future. For now it is automatically &#39;</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>                        <span class="sa">f</span><span class="s1">&#39;converted. </span><span class="si">{</span><span class="n">e</span><span class="si">=}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_raw</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">DocTable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Wrapper over table.join(), can pass to from_obj parameter for .select()</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a><span class="sd">        Args:</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a><span class="sd">            other (DocTable): other doctable to join</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a><span class="sd">            *args, **kwargs: passed to table.join() method</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_table</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>    
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>    
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>    <span class="c1">#################### Select/Insert in Chunk Methods ###################</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>    
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>    <span class="k">def</span> <span class="nf">select_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated: see docs for .q.select_chunks()&#39;&#39;&#39;</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_chunks</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>                
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>    <span class="k">def</span> <span class="nf">select_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_iter.&#39;&#39;&#39;</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.select_iter() is depricated. Please use .q.select_iter()&#39;</span><span class="p">)</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_iter</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>                
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>    <span class="k">def</span> <span class="nf">get_queueinserter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Get an object that will queue rows for insertion.</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.get_queueinserter() has been depricated entirely. please&#39;</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>            <span class="s1">&#39;avoid using it.&#39;</span><span class="p">)</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>        <span class="k">return</span> <span class="n">QueueInserter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>    <span class="c1">#################### Update and Delete Methods ###################</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.update(), Query.update().&#39;&#39;&#39;</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .update() is depricated. Please use .q.update() instead.&#39;</span><span class="p">)</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">delete_all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.delete(), Query.delete().&#39;&#39;&#39;</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .delete() is depricated. Please use .q.delete() instead.&#39;</span><span class="p">)</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">delete_all</span><span class="o">=</span><span class="n">delete_all</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>    
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>    
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>    <span class="c1">#################### Bootstrapping Methods ###################</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>    
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>    <span class="k">def</span> <span class="nf">bootstrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Generates a DocBootstrapper object to sample from.</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a><span class="sd">        Notes:</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a><span class="sd">            The DocBootstrap object keeps all selected docs in</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a><span class="sd">                memory, and yields samples with .sample().</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a><span class="sd">        Args:</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a><span class="sd">            *args: passed to .select()</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a><span class="sd">            n (int): number of samples to bs. If left unset, can</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a><span class="sd">                specify when drawing sample from DocBootstrap obj.</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a><span class="sd">            **kwargs: passed to .select()</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a><span class="sd">        Returns:</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a><span class="sd">            DocBootstrap object for bootstrapping.</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>        <span class="n">docs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>        <span class="k">return</span> <span class="n">DocBootstrap</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>    
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>    
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>    
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>    
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>    <span class="c1">################# FILE COLUMN METHODS ##################</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>    <span class="k">def</span> <span class="nf">clean_col_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">check_missing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_extraneous</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Make sure there is a 1-1 mapping between files listed in db and files in folder.</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a><span class="sd">        Args:</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a><span class="sd">            col (str or Column object): column to clean picklefiles for.</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a><span class="sd">            ignore_missing (bool): if False, throw an error when a db file doesn&#39;t exist.</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>        <span class="n">col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">FileTypeBase</span><span class="p">):</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> is not a file type; only call clean_col_files for a file column types.&#39;</span><span class="p">)</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">check_missing</span> <span class="ow">or</span> <span class="n">delete_extraneous</span><span class="p">):</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Either check_missing or delete_extraneous should be set to true, &#39;</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>                             <span class="s1">&#39;or else this method does nothing.&#39;</span><span class="p">)</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>        
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>        <span class="c1"># get column filenames</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>        <span class="k">with</span> <span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">control</span><span class="p">:</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>            <span class="n">db_fnames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="n">col</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">))</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>        
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>        <span class="c1"># get existing files from filesystem</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>        <span class="n">fpath</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s1">/*</span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">file_ext</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>        <span class="n">exist_fnames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">fpath</span><span class="p">))</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>        <span class="n">intersect</span> <span class="o">=</span> <span class="n">db_fnames</span> <span class="o">&amp;</span> <span class="n">exist_fnames</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>        <span class="c1">#print(db_fnames, exist_fnames)</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>        
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>        <span class="c1"># remove files not listed in db</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>        <span class="n">extraneous_fnames</span> <span class="o">=</span> <span class="n">exist_fnames</span> <span class="o">-</span> <span class="n">intersect</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>        <span class="k">if</span> <span class="n">delete_extraneous</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">extraneous_fnames</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>            <span class="k">for</span> <span class="n">rm_fname</span> <span class="ow">in</span> <span class="n">extraneous_fnames</span><span class="p">:</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">rm_fname</span><span class="p">)</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>        
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>        <span class="c1"># throw error if filesystem is missing some files</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>        <span class="n">miss_fnames</span> <span class="o">=</span> <span class="n">db_fnames</span><span class="o">-</span><span class="n">intersect</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>        <span class="k">if</span> <span class="n">check_missing</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">miss_fnames</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s1">&#39;These files were not found while cleaning: </span><span class="si">{}</span><span class="s1">&#39;</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>                <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">miss_fnames</span><span class="p">))</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>        
</span></pre></div>


            </section>
                <section id="DEFAULT_TABNAME">
                    <div class="attr variable">
            <span class="name">DEFAULT_TABNAME</span>        =
<span class="default_value">&#39;_documents_&#39;</span>

        
    </div>
    <a class="headerlink" href="#DEFAULT_TABNAME"></a>
    
    

                </section>
                <section id="DocTable">
                            <input id="DocTable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DocTable</span>:

                <label class="view-source-button" for="DocTable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable-42"><a href="#DocTable-42"><span class="linenos"> 42</span></a><span class="k">class</span> <span class="nc">DocTable</span><span class="p">:</span>
</span><span id="DocTable-43"><a href="#DocTable-43"><span class="linenos"> 43</span></a><span class="w">    </span><span class="sd">&#39;&#39;&#39; Class for managing a single database table.</span>
</span><span id="DocTable-44"><a href="#DocTable-44"><span class="linenos"> 44</span></a><span class="sd">    Description: This class manages schema and connection information to provide</span>
</span><span id="DocTable-45"><a href="#DocTable-45"><span class="linenos"> 45</span></a><span class="sd">        an object-based interface to perform queries on a single table </span>
</span><span id="DocTable-46"><a href="#DocTable-46"><span class="linenos"> 46</span></a><span class="sd">        in a database (although multi-table designs are possible with </span>
</span><span id="DocTable-47"><a href="#DocTable-47"><span class="linenos"> 47</span></a><span class="sd">        multiple DocTables). It is designed to maintain informabout about the </span>
</span><span id="DocTable-48"><a href="#DocTable-48"><span class="linenos"> 48</span></a><span class="sd">        underlying database structure of the table, making it possible to </span>
</span><span id="DocTable-49"><a href="#DocTable-49"><span class="linenos"> 49</span></a><span class="sd">        execute queries without using the SQL language.</span>
</span><span id="DocTable-50"><a href="#DocTable-50"><span class="linenos"> 50</span></a>
</span><span id="DocTable-51"><a href="#DocTable-51"><span class="linenos"> 51</span></a><span class="sd">    Settable static attributes (overridden if related constructor argument passed):</span>
</span><span id="DocTable-52"><a href="#DocTable-52"><span class="linenos"> 52</span></a><span class="sd">        _target_ (str): target database to connect to - used when a doctable</span>
</span><span id="DocTable-53"><a href="#DocTable-53"><span class="linenos"> 53</span></a><span class="sd">            will always connect to the same target (i.e., a server etc).</span>
</span><span id="DocTable-54"><a href="#DocTable-54"><span class="linenos"> 54</span></a><span class="sd">        _tabname_ (str): name of table to connect to (and create).</span>
</span><span id="DocTable-55"><a href="#DocTable-55"><span class="linenos"> 55</span></a><span class="sd">        _schema_ (DocTableSchema): schema definition for this doctable, to be used</span>
</span><span id="DocTable-56"><a href="#DocTable-56"><span class="linenos"> 56</span></a><span class="sd">            when creating a new table and to manage table information.</span>
</span><span id="DocTable-57"><a href="#DocTable-57"><span class="linenos"> 57</span></a><span class="sd">        _indices_ (dict): indices to apply to the table</span>
</span><span id="DocTable-58"><a href="#DocTable-58"><span class="linenos"> 58</span></a><span class="sd">        _constraints_ (list): constraints to apply to the table</span>
</span><span id="DocTable-59"><a href="#DocTable-59"><span class="linenos"> 59</span></a><span class="sd">        _doctable_args_ (dict): any other constructor arguments that should always</span>
</span><span id="DocTable-60"><a href="#DocTable-60"><span class="linenos"> 60</span></a><span class="sd">            be used when instantiating. Overridden by providing arguments</span>
</span><span id="DocTable-61"><a href="#DocTable-61"><span class="linenos"> 61</span></a><span class="sd">            to the constructor.</span>
</span><span id="DocTable-62"><a href="#DocTable-62"><span class="linenos"> 62</span></a><span class="sd">    &#39;&#39;&#39;</span>
</span><span id="DocTable-63"><a href="#DocTable-63"><span class="linenos"> 63</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="DocTable-64"><a href="#DocTable-64"><span class="linenos"> 64</span></a>            <span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">DocTableSchema</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tabname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
</span><span id="DocTable-65"><a href="#DocTable-65"><span class="linenos"> 65</span></a>            <span class="n">indices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Constraint</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DocTable-66"><a href="#DocTable-66"><span class="linenos"> 66</span></a>            <span class="n">dialect</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;sqlite&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">:</span> <span class="n">ConnectEngine</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
</span><span id="DocTable-67"><a href="#DocTable-67"><span class="linenos"> 67</span></a>            <span class="n">readonly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">new_db</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">new_table</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> 
</span><span id="DocTable-68"><a href="#DocTable-68"><span class="linenos"> 68</span></a>            <span class="n">persistent_conn</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
</span><span id="DocTable-69"><a href="#DocTable-69"><span class="linenos"> 69</span></a>            <span class="n">allow_inconsistent_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">create_indices</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="DocTable-70"><a href="#DocTable-70"><span class="linenos"> 70</span></a>            <span class="o">**</span><span class="n">engine_kwargs</span><span class="p">):</span>
</span><span id="DocTable-71"><a href="#DocTable-71"><span class="linenos"> 71</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Create new database.</span>
</span><span id="DocTable-72"><a href="#DocTable-72"><span class="linenos"> 72</span></a><span class="sd">        Args:</span>
</span><span id="DocTable-73"><a href="#DocTable-73"><span class="linenos"> 73</span></a><span class="sd">            target (str): filename for database to connect to. &quot;:memory:&quot; is a </span>
</span><span id="DocTable-74"><a href="#DocTable-74"><span class="linenos"> 74</span></a><span class="sd">                special value indicating to the python sqlite engine that the db</span>
</span><span id="DocTable-75"><a href="#DocTable-75"><span class="linenos"> 75</span></a><span class="sd">                should be created in memory. Will create new empty database file</span>
</span><span id="DocTable-76"><a href="#DocTable-76"><span class="linenos"> 76</span></a><span class="sd">                if it does not exist and new_db==True, and add a new table using</span>
</span><span id="DocTable-77"><a href="#DocTable-77"><span class="linenos"> 77</span></a><span class="sd">                specified schema if new_table==True.</span>
</span><span id="DocTable-78"><a href="#DocTable-78"><span class="linenos"> 78</span></a><span class="sd">            tabname (str): table name for this specific doctable.</span>
</span><span id="DocTable-79"><a href="#DocTable-79"><span class="linenos"> 79</span></a><span class="sd">            schema (type or list&lt;list&gt;): schema from which to create db. Includes a</span>
</span><span id="DocTable-80"><a href="#DocTable-80"><span class="linenos"> 80</span></a><span class="sd">                list of column names and types (including contraints and indexes) as tuples</span>
</span><span id="DocTable-81"><a href="#DocTable-81"><span class="linenos"> 81</span></a><span class="sd">                defined according to information needed to construct the sqlalchemy</span>
</span><span id="DocTable-82"><a href="#DocTable-82"><span class="linenos"> 82</span></a><span class="sd">                objects. Alternatively, can be a schema class (see docs).</span>
</span><span id="DocTable-83"><a href="#DocTable-83"><span class="linenos"> 83</span></a><span class="sd">            dialect (str): database engine through which to construct db.</span>
</span><span id="DocTable-84"><a href="#DocTable-84"><span class="linenos"> 84</span></a><span class="sd">                For more info, see sqlalchemy dialect info:</span>
</span><span id="DocTable-85"><a href="#DocTable-85"><span class="linenos"> 85</span></a><span class="sd">                https://docs.sqlalchemy.org/en/13/dialects/</span>
</span><span id="DocTable-86"><a href="#DocTable-86"><span class="linenos"> 86</span></a><span class="sd">            engine (ConnectEngine): engine from another doctable if working with different</span>
</span><span id="DocTable-87"><a href="#DocTable-87"><span class="linenos"> 87</span></a><span class="sd">                tables in the same db.</span>
</span><span id="DocTable-88"><a href="#DocTable-88"><span class="linenos"> 88</span></a><span class="sd">            readonly (bool): Prevents user from calling insert(), delete(), or </span>
</span><span id="DocTable-89"><a href="#DocTable-89"><span class="linenos"> 89</span></a><span class="sd">                update(). Will not block other sql possible commands.</span>
</span><span id="DocTable-90"><a href="#DocTable-90"><span class="linenos"> 90</span></a><span class="sd">            new_db (bool): Indicate if new db file should be created given </span>
</span><span id="DocTable-91"><a href="#DocTable-91"><span class="linenos"> 91</span></a><span class="sd">                that a schema is provided and the db file doesn&#39;t exist.</span>
</span><span id="DocTable-92"><a href="#DocTable-92"><span class="linenos"> 92</span></a><span class="sd">            new_table (bool): Allow doctable to create a new table if one </span>
</span><span id="DocTable-93"><a href="#DocTable-93"><span class="linenos"> 93</span></a><span class="sd">                doesn&#39;t exist already.</span>
</span><span id="DocTable-94"><a href="#DocTable-94"><span class="linenos"> 94</span></a><span class="sd">            persistent_conn (bool): whether or not to create a persistent conn </span>
</span><span id="DocTable-95"><a href="#DocTable-95"><span class="linenos"> 95</span></a><span class="sd">                to database. Otherwise will create temporary connection for each</span>
</span><span id="DocTable-96"><a href="#DocTable-96"><span class="linenos"> 96</span></a><span class="sd">                query.</span>
</span><span id="DocTable-97"><a href="#DocTable-97"><span class="linenos"> 97</span></a><span class="sd">            verbose (bool): Print every sql command before executing.</span>
</span><span id="DocTable-98"><a href="#DocTable-98"><span class="linenos"> 98</span></a><span class="sd">            engine_kwargs (**kwargs): Pass directly to the sqlalchemy</span>
</span><span id="DocTable-99"><a href="#DocTable-99"><span class="linenos"> 99</span></a><span class="sd">                .create_engine() as connect_args. Args typically vary by dialect.</span>
</span><span id="DocTable-100"><a href="#DocTable-100"><span class="linenos">100</span></a><span class="sd">                Example: connect_args={&#39;timeout&#39;: 15} for sqlite</span>
</span><span id="DocTable-101"><a href="#DocTable-101"><span class="linenos">101</span></a><span class="sd">                or connect_args={&#39;connect_timeout&#39;: 15} for PostgreSQL.</span>
</span><span id="DocTable-102"><a href="#DocTable-102"><span class="linenos">102</span></a>
</span><span id="DocTable-103"><a href="#DocTable-103"><span class="linenos">103</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-104"><a href="#DocTable-104"><span class="linenos">104</span></a>        <span class="c1"># handle defaults</span>
</span><span id="DocTable-105"><a href="#DocTable-105"><span class="linenos">105</span></a>        <span class="n">tabname</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tabname</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_tabname_&#39;</span><span class="p">,</span> <span class="n">DEFAULT_TABNAME</span><span class="p">)</span>
</span><span id="DocTable-106"><a href="#DocTable-106"><span class="linenos">106</span></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_schema_&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DocTable-107"><a href="#DocTable-107"><span class="linenos">107</span></a>        <span class="n">target</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_target_&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DocTable-108"><a href="#DocTable-108"><span class="linenos">108</span></a>
</span><span id="DocTable-109"><a href="#DocTable-109"><span class="linenos">109</span></a>        <span class="c1"># dependent args</span>
</span><span id="DocTable-110"><a href="#DocTable-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="n">readonly</span><span class="p">:</span>
</span><span id="DocTable-111"><a href="#DocTable-111"><span class="linenos">111</span></a>            <span class="n">new_db</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="DocTable-112"><a href="#DocTable-112"><span class="linenos">112</span></a>            <span class="n">new_table</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="DocTable-113"><a href="#DocTable-113"><span class="linenos">113</span></a>
</span><span id="DocTable-114"><a href="#DocTable-114"><span class="linenos">114</span></a>        <span class="c1"># if no engine or schema is provided, the database must already exist and user intends to infer</span>
</span><span id="DocTable-115"><a href="#DocTable-115"><span class="linenos">115</span></a>        <span class="k">if</span> <span class="n">dialect</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;sqlite&#39;</span><span class="p">):</span>
</span><span id="DocTable-116"><a href="#DocTable-116"><span class="linenos">116</span></a>            <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">engine</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">target</span> <span class="o">==</span> <span class="s1">&#39;:memory:&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target</span><span class="p">)):</span>
</span><span id="DocTable-117"><a href="#DocTable-117"><span class="linenos">117</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Schema must be provided if using memory database or &#39;</span>
</span><span id="DocTable-118"><a href="#DocTable-118"><span class="linenos">118</span></a>                             <span class="s1">&#39;database file does not exist yet. Need to provide schema &#39;</span>
</span><span id="DocTable-119"><a href="#DocTable-119"><span class="linenos">119</span></a>                             <span class="s1">&#39;when creating a new table.&#39;</span><span class="p">)</span>
</span><span id="DocTable-120"><a href="#DocTable-120"><span class="linenos">120</span></a>
</span><span id="DocTable-121"><a href="#DocTable-121"><span class="linenos">121</span></a>        <span class="c1"># set target and engine</span>
</span><span id="DocTable-122"><a href="#DocTable-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="n">target</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-123"><a href="#DocTable-123"><span class="linenos">123</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DocTable-124"><a href="#DocTable-124"><span class="linenos">124</span></a>                <span class="n">target</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">target</span>
</span><span id="DocTable-125"><a href="#DocTable-125"><span class="linenos">125</span></a>            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DocTable-126"><a href="#DocTable-126"><span class="linenos">126</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Either target or engine must be provided.&#39;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</span><span id="DocTable-127"><a href="#DocTable-127"><span class="linenos">127</span></a>        
</span><span id="DocTable-128"><a href="#DocTable-128"><span class="linenos">128</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">engine</span>
</span><span id="DocTable-129"><a href="#DocTable-129"><span class="linenos">129</span></a>
</span><span id="DocTable-130"><a href="#DocTable-130"><span class="linenos">130</span></a>        <span class="k">elif</span> <span class="n">engine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-131"><a href="#DocTable-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">ConnectEngine</span><span class="p">(</span>
</span><span id="DocTable-132"><a href="#DocTable-132"><span class="linenos">132</span></a>                <span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="p">,</span> 
</span><span id="DocTable-133"><a href="#DocTable-133"><span class="linenos">133</span></a>                <span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span><span class="p">,</span> 
</span><span id="DocTable-134"><a href="#DocTable-134"><span class="linenos">134</span></a>                <span class="n">new_db</span> <span class="o">=</span> <span class="n">new_db</span><span class="p">,</span> 
</span><span id="DocTable-135"><a href="#DocTable-135"><span class="linenos">135</span></a>                <span class="o">**</span><span class="n">engine_kwargs</span>
</span><span id="DocTable-136"><a href="#DocTable-136"><span class="linenos">136</span></a>            <span class="p">)</span>
</span><span id="DocTable-137"><a href="#DocTable-137"><span class="linenos">137</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-138"><a href="#DocTable-138"><span class="linenos">138</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot provide both target and engine.&#39;</span><span class="p">)</span>
</span><span id="DocTable-139"><a href="#DocTable-139"><span class="linenos">139</span></a>        
</span><span id="DocTable-140"><a href="#DocTable-140"><span class="linenos">140</span></a>        <span class="c1"># store arguments as-is</span>
</span><span id="DocTable-141"><a href="#DocTable-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span> <span class="o">=</span> <span class="n">tabname</span>
</span><span id="DocTable-142"><a href="#DocTable-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_target</span> <span class="o">=</span> <span class="n">target</span>
</span><span id="DocTable-143"><a href="#DocTable-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span>
</span><span id="DocTable-144"><a href="#DocTable-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_new_db</span> <span class="o">=</span> <span class="n">new_db</span>
</span><span id="DocTable-145"><a href="#DocTable-145"><span class="linenos">145</span></a>
</span><span id="DocTable-146"><a href="#DocTable-146"><span class="linenos">146</span></a>        <span class="c1"># flags</span>
</span><span id="DocTable-147"><a href="#DocTable-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
</span><span id="DocTable-148"><a href="#DocTable-148"><span class="linenos">148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span> <span class="o">=</span> <span class="n">persistent_conn</span>
</span><span id="DocTable-149"><a href="#DocTable-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">readonly</span> <span class="o">=</span> <span class="n">readonly</span>
</span><span id="DocTable-150"><a href="#DocTable-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_new_table</span> <span class="o">=</span> <span class="n">new_table</span>
</span><span id="DocTable-151"><a href="#DocTable-151"><span class="linenos">151</span></a>                
</span><span id="DocTable-152"><a href="#DocTable-152"><span class="linenos">152</span></a>        <span class="c1"># connect to existing table or create new one</span>
</span><span id="DocTable-153"><a href="#DocTable-153"><span class="linenos">153</span></a>        <span class="c1"># NOTE: this is not a good way to detect the schema type - make something more obvious</span>
</span><span id="DocTable-154"><a href="#DocTable-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;_doctable_from_row_obj&#39;</span><span class="p">):</span>
</span><span id="DocTable-155"><a href="#DocTable-155"><span class="linenos">155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">RowDictSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="DocTable-156"><a href="#DocTable-156"><span class="linenos">156</span></a>                <span class="n">schema_class</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="DocTable-157"><a href="#DocTable-157"><span class="linenos">157</span></a>                <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">,</span> <span class="c1"># need these if we want to grab from constructor</span>
</span><span id="DocTable-158"><a href="#DocTable-158"><span class="linenos">158</span></a>                <span class="n">constraints</span> <span class="o">=</span> <span class="n">constraints</span><span class="p">,</span>
</span><span id="DocTable-159"><a href="#DocTable-159"><span class="linenos">159</span></a>            <span class="p">)</span>
</span><span id="DocTable-160"><a href="#DocTable-160"><span class="linenos">160</span></a>        <span class="k">elif</span> <span class="n">has_attr_map</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
</span><span id="DocTable-161"><a href="#DocTable-161"><span class="linenos">161</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">DataclassSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="DocTable-162"><a href="#DocTable-162"><span class="linenos">162</span></a>                <span class="n">schema_class</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="DocTable-163"><a href="#DocTable-163"><span class="linenos">163</span></a>                <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">,</span> <span class="c1"># need these if we want to grab from constructor</span>
</span><span id="DocTable-164"><a href="#DocTable-164"><span class="linenos">164</span></a>                <span class="n">constraints</span> <span class="o">=</span> <span class="n">constraints</span><span class="p">,</span>
</span><span id="DocTable-165"><a href="#DocTable-165"><span class="linenos">165</span></a>            <span class="p">)</span>
</span><span id="DocTable-166"><a href="#DocTable-166"><span class="linenos">166</span></a>        <span class="k">elif</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
</span><span id="DocTable-167"><a href="#DocTable-167"><span class="linenos">167</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">StringSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="DocTable-168"><a href="#DocTable-168"><span class="linenos">168</span></a>                <span class="n">schema_list</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="DocTable-169"><a href="#DocTable-169"><span class="linenos">169</span></a>                <span class="n">default_fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_target</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">,</span>
</span><span id="DocTable-170"><a href="#DocTable-170"><span class="linenos">170</span></a>            <span class="p">)</span>
</span><span id="DocTable-171"><a href="#DocTable-171"><span class="linenos">171</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-172"><a href="#DocTable-172"><span class="linenos">172</span></a>            <span class="c1">#self._schema = None # inferred from existing table</span>
</span><span id="DocTable-173"><a href="#DocTable-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">InferredSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</span><span id="DocTable-174"><a href="#DocTable-174"><span class="linenos">174</span></a>
</span><span id="DocTable-175"><a href="#DocTable-175"><span class="linenos">175</span></a>        <span class="c1"># add this table</span>
</span><span id="DocTable-176"><a href="#DocTable-176"><span class="linenos">176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span>
</span><span id="DocTable-177"><a href="#DocTable-177"><span class="linenos">177</span></a>            <span class="n">tabname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">,</span> 
</span><span id="DocTable-178"><a href="#DocTable-178"><span class="linenos">178</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> 
</span><span id="DocTable-179"><a href="#DocTable-179"><span class="linenos">179</span></a>            <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span>
</span><span id="DocTable-180"><a href="#DocTable-180"><span class="linenos">180</span></a>            <span class="n">constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">constraints</span><span class="p">,</span>
</span><span id="DocTable-181"><a href="#DocTable-181"><span class="linenos">181</span></a>            <span class="n">new_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_new_table</span><span class="p">,</span>
</span><span id="DocTable-182"><a href="#DocTable-182"><span class="linenos">182</span></a>            <span class="n">allow_inconsistent_schema</span> <span class="o">=</span> <span class="n">allow_inconsistent_schema</span><span class="p">,</span>
</span><span id="DocTable-183"><a href="#DocTable-183"><span class="linenos">183</span></a>            <span class="n">create_indices</span> <span class="o">=</span> <span class="n">create_indices</span><span class="p">,</span>
</span><span id="DocTable-184"><a href="#DocTable-184"><span class="linenos">184</span></a>        <span class="p">)</span>
</span><span id="DocTable-185"><a href="#DocTable-185"><span class="linenos">185</span></a>        
</span><span id="DocTable-186"><a href="#DocTable-186"><span class="linenos">186</span></a>        <span class="c1"># create persistent connection to database if requested</span>
</span><span id="DocTable-187"><a href="#DocTable-187"><span class="linenos">187</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span> <span class="k">else</span> <span class="kc">None</span>
</span><span id="DocTable-188"><a href="#DocTable-188"><span class="linenos">188</span></a>        
</span><span id="DocTable-189"><a href="#DocTable-189"><span class="linenos">189</span></a>    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DocTable-190"><a href="#DocTable-190"><span class="linenos">190</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Closes database connection to prevent locking db.</span>
</span><span id="DocTable-191"><a href="#DocTable-191"><span class="linenos">191</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-192"><a href="#DocTable-192"><span class="linenos">192</span></a>        <span class="c1"># apparently engines and connections are garbage collected using event handlers?</span>
</span><span id="DocTable-193"><a href="#DocTable-193"><span class="linenos">193</span></a>        <span class="c1"># I don&#39;t understand this, but solved some big issues by just doing nothing.</span>
</span><span id="DocTable-194"><a href="#DocTable-194"><span class="linenos">194</span></a>        
</span><span id="DocTable-195"><a href="#DocTable-195"><span class="linenos">195</span></a>        <span class="c1">#self._engine.remove_table(self._table) # remove from engine metadata</span>
</span><span id="DocTable-196"><a href="#DocTable-196"><span class="linenos">196</span></a>        <span class="c1">#self.close_conn()</span>
</span><span id="DocTable-197"><a href="#DocTable-197"><span class="linenos">197</span></a>        <span class="k">pass</span>
</span><span id="DocTable-198"><a href="#DocTable-198"><span class="linenos">198</span></a>
</span><span id="DocTable-199"><a href="#DocTable-199"><span class="linenos">199</span></a>        
</span><span id="DocTable-200"><a href="#DocTable-200"><span class="linenos">200</span></a>    
</span><span id="DocTable-201"><a href="#DocTable-201"><span class="linenos">201</span></a>    <span class="c1">#################### Connection Methods ###################</span>
</span><span id="DocTable-202"><a href="#DocTable-202"><span class="linenos">202</span></a>
</span><span id="DocTable-203"><a href="#DocTable-203"><span class="linenos">203</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DocTable-204"><a href="#DocTable-204"><span class="linenos">204</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Calls .open_conn()</span>
</span><span id="DocTable-205"><a href="#DocTable-205"><span class="linenos">205</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-206"><a href="#DocTable-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">open_conn</span><span class="p">()</span>
</span><span id="DocTable-207"><a href="#DocTable-207"><span class="linenos">207</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="DocTable-208"><a href="#DocTable-208"><span class="linenos">208</span></a>
</span><span id="DocTable-209"><a href="#DocTable-209"><span class="linenos">209</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">):</span>
</span><span id="DocTable-210"><a href="#DocTable-210"><span class="linenos">210</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Calls .close_conn()</span>
</span><span id="DocTable-211"><a href="#DocTable-211"><span class="linenos">211</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-212"><a href="#DocTable-212"><span class="linenos">212</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_conn</span><span class="p">()</span>
</span><span id="DocTable-213"><a href="#DocTable-213"><span class="linenos">213</span></a>    
</span><span id="DocTable-214"><a href="#DocTable-214"><span class="linenos">214</span></a>    <span class="k">def</span> <span class="nf">close_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-215"><a href="#DocTable-215"><span class="linenos">215</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Closes connection to db (if one exists). &#39;&#39;&#39;</span>
</span><span id="DocTable-216"><a href="#DocTable-216"><span class="linenos">216</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-217"><a href="#DocTable-217"><span class="linenos">217</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="DocTable-218"><a href="#DocTable-218"><span class="linenos">218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DocTable-219"><a href="#DocTable-219"><span class="linenos">219</span></a>    
</span><span id="DocTable-220"><a href="#DocTable-220"><span class="linenos">220</span></a>    <span class="k">def</span> <span class="nf">open_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-221"><a href="#DocTable-221"><span class="linenos">221</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Opens connection to db (if one does not exist). &#39;&#39;&#39;</span>
</span><span id="DocTable-222"><a href="#DocTable-222"><span class="linenos">222</span></a>        
</span><span id="DocTable-223"><a href="#DocTable-223"><span class="linenos">223</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-224"><a href="#DocTable-224"><span class="linenos">224</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="DocTable-225"><a href="#DocTable-225"><span class="linenos">225</span></a>            
</span><span id="DocTable-226"><a href="#DocTable-226"><span class="linenos">226</span></a>    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">Connection</span><span class="p">:</span>
</span><span id="DocTable-227"><a href="#DocTable-227"><span class="linenos">227</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Returns a connection from the sqlalchemy engine.&#39;&#39;&#39;</span>
</span><span id="DocTable-228"><a href="#DocTable-228"><span class="linenos">228</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span id="DocTable-229"><a href="#DocTable-229"><span class="linenos">229</span></a>    
</span><span id="DocTable-230"><a href="#DocTable-230"><span class="linenos">230</span></a>    <span class="k">def</span> <span class="nf">reopen_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">open_conn</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-231"><a href="#DocTable-231"><span class="linenos">231</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Opens connection engine. </span>
</span><span id="DocTable-232"><a href="#DocTable-232"><span class="linenos">232</span></a><span class="sd">        Args:</span>
</span><span id="DocTable-233"><a href="#DocTable-233"><span class="linenos">233</span></a><span class="sd">            open_conn (bool): create a new db connection.</span>
</span><span id="DocTable-234"><a href="#DocTable-234"><span class="linenos">234</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-235"><a href="#DocTable-235"><span class="linenos">235</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_conn</span><span class="p">()</span>
</span><span id="DocTable-236"><a href="#DocTable-236"><span class="linenos">236</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">reopen</span><span class="p">()</span>
</span><span id="DocTable-237"><a href="#DocTable-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="n">open_conn</span> <span class="ow">or</span> <span class="p">(</span><span class="n">open_conn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span><span class="p">):</span>
</span><span id="DocTable-238"><a href="#DocTable-238"><span class="linenos">238</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_conn</span><span class="p">()</span>
</span><span id="DocTable-239"><a href="#DocTable-239"><span class="linenos">239</span></a>
</span><span id="DocTable-240"><a href="#DocTable-240"><span class="linenos">240</span></a>
</span><span id="DocTable-241"><a href="#DocTable-241"><span class="linenos">241</span></a>    <span class="c1">#################### Dunder ###################</span>
</span><span id="DocTable-242"><a href="#DocTable-242"><span class="linenos">242</span></a>    
</span><span id="DocTable-243"><a href="#DocTable-243"><span class="linenos">243</span></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DocTable-244"><a href="#DocTable-244"><span class="linenos">244</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;&lt;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> (</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s1"> cols)::</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="p">)</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="si">}</span><span class="s1">&gt;&#39;</span>
</span><span id="DocTable-245"><a href="#DocTable-245"><span class="linenos">245</span></a>    
</span><span id="DocTable-246"><a href="#DocTable-246"><span class="linenos">246</span></a>    
</span><span id="DocTable-247"><a href="#DocTable-247"><span class="linenos">247</span></a>    
</span><span id="DocTable-248"><a href="#DocTable-248"><span class="linenos">248</span></a>    <span class="c1">#################### Expose Underlying Table ###################</span>
</span><span id="DocTable-249"><a href="#DocTable-249"><span class="linenos">249</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colname</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">:</span>
</span><span id="DocTable-250"><a href="#DocTable-250"><span class="linenos">250</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Accesses a column object by calling .col().&#39;&#39;&#39;</span>
</span><span id="DocTable-251"><a href="#DocTable-251"><span class="linenos">251</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">colname</span><span class="p">)</span>
</span><span id="DocTable-252"><a href="#DocTable-252"><span class="linenos">252</span></a>    
</span><span id="DocTable-253"><a href="#DocTable-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">col</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">:</span>
</span><span id="DocTable-254"><a href="#DocTable-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Accesses a column object.</span>
</span><span id="DocTable-255"><a href="#DocTable-255"><span class="linenos">255</span></a><span class="sd">        Args:</span>
</span><span id="DocTable-256"><a href="#DocTable-256"><span class="linenos">256</span></a><span class="sd">            Name of column to access. Applied as subscript to </span>
</span><span id="DocTable-257"><a href="#DocTable-257"><span class="linenos">257</span></a><span class="sd">                sqlalchemy columns object.</span>
</span><span id="DocTable-258"><a href="#DocTable-258"><span class="linenos">258</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-259"><a href="#DocTable-259"><span class="linenos">259</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">):</span>
</span><span id="DocTable-260"><a href="#DocTable-260"><span class="linenos">260</span></a>            <span class="k">return</span> <span class="n">name</span>
</span><span id="DocTable-261"><a href="#DocTable-261"><span class="linenos">261</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">c</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="DocTable-262"><a href="#DocTable-262"><span class="linenos">262</span></a>        
</span><span id="DocTable-263"><a href="#DocTable-263"><span class="linenos">263</span></a>    <span class="nd">@property</span>
</span><span id="DocTable-264"><a href="#DocTable-264"><span class="linenos">264</span></a>    <span class="k">def</span> <span class="nf">table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Table</span><span class="p">:</span>
</span><span id="DocTable-265"><a href="#DocTable-265"><span class="linenos">265</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Returns underlying sqlalchemy table object for manual manipulation.</span>
</span><span id="DocTable-266"><a href="#DocTable-266"><span class="linenos">266</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-267"><a href="#DocTable-267"><span class="linenos">267</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span>
</span><span id="DocTable-268"><a href="#DocTable-268"><span class="linenos">268</span></a>    
</span><span id="DocTable-269"><a href="#DocTable-269"><span class="linenos">269</span></a>    <span class="nd">@property</span>
</span><span id="DocTable-270"><a href="#DocTable-270"><span class="linenos">270</span></a>    <span class="k">def</span> <span class="nf">tabname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DocTable-271"><a href="#DocTable-271"><span class="linenos">271</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Gets name of table for this connection.&#39;&#39;&#39;</span>
</span><span id="DocTable-272"><a href="#DocTable-272"><span class="linenos">272</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span>
</span><span id="DocTable-273"><a href="#DocTable-273"><span class="linenos">273</span></a>    
</span><span id="DocTable-274"><a href="#DocTable-274"><span class="linenos">274</span></a>    <span class="nd">@property</span>
</span><span id="DocTable-275"><a href="#DocTable-275"><span class="linenos">275</span></a>    <span class="k">def</span> <span class="nf">columns</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">ImmutableColumnCollection</span><span class="p">:</span>
</span><span id="DocTable-276"><a href="#DocTable-276"><span class="linenos">276</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Exposes SQLAlchemy core table columns object.</span>
</span><span id="DocTable-277"><a href="#DocTable-277"><span class="linenos">277</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-278"><a href="#DocTable-278"><span class="linenos">278</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">c</span>
</span><span id="DocTable-279"><a href="#DocTable-279"><span class="linenos">279</span></a>
</span><span id="DocTable-280"><a href="#DocTable-280"><span class="linenos">280</span></a>    <span class="nd">@property</span>
</span><span id="DocTable-281"><a href="#DocTable-281"><span class="linenos">281</span></a>    <span class="k">def</span> <span class="nf">c</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">ImmutableColumnCollection</span><span class="p">:</span>
</span><span id="DocTable-282"><a href="#DocTable-282"><span class="linenos">282</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Alias for self.columns.</span>
</span><span id="DocTable-283"><a href="#DocTable-283"><span class="linenos">283</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-284"><a href="#DocTable-284"><span class="linenos">284</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">c</span>
</span><span id="DocTable-285"><a href="#DocTable-285"><span class="linenos">285</span></a>    
</span><span id="DocTable-286"><a href="#DocTable-286"><span class="linenos">286</span></a>    <span class="nd">@property</span>
</span><span id="DocTable-287"><a href="#DocTable-287"><span class="linenos">287</span></a>    <span class="k">def</span> <span class="nf">engine</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConnectEngine</span><span class="p">:</span>
</span><span id="DocTable-288"><a href="#DocTable-288"><span class="linenos">288</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span>
</span><span id="DocTable-289"><a href="#DocTable-289"><span class="linenos">289</span></a>    
</span><span id="DocTable-290"><a href="#DocTable-290"><span class="linenos">290</span></a>    <span class="nd">@property</span>
</span><span id="DocTable-291"><a href="#DocTable-291"><span class="linenos">291</span></a>    <span class="k">def</span> <span class="nf">schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DataclassSchema</span><span class="p">:</span>
</span><span id="DocTable-292"><a href="#DocTable-292"><span class="linenos">292</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span>
</span><span id="DocTable-293"><a href="#DocTable-293"><span class="linenos">293</span></a>    
</span><span id="DocTable-294"><a href="#DocTable-294"><span class="linenos">294</span></a>    <span class="k">def</span> <span class="nf">list_tables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DocTable-295"><a href="#DocTable-295"><span class="linenos">295</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">list_tables</span><span class="p">()</span>
</span><span id="DocTable-296"><a href="#DocTable-296"><span class="linenos">296</span></a>    
</span><span id="DocTable-297"><a href="#DocTable-297"><span class="linenos">297</span></a>    <span class="k">def</span> <span class="nf">colnames</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DocTable-298"><a href="#DocTable-298"><span class="linenos">298</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</span><span id="DocTable-299"><a href="#DocTable-299"><span class="linenos">299</span></a>
</span><span id="DocTable-300"><a href="#DocTable-300"><span class="linenos">300</span></a>    <span class="k">def</span> <span class="nf">primary_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DocTable-301"><a href="#DocTable-301"><span class="linenos">301</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_info</span><span class="p">()</span> <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="s1">&#39;primary_key&#39;</span><span class="p">]]</span>
</span><span id="DocTable-302"><a href="#DocTable-302"><span class="linenos">302</span></a>    
</span><span id="DocTable-303"><a href="#DocTable-303"><span class="linenos">303</span></a>    <span class="k">def</span> <span class="nf">schema_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DocTable-304"><a href="#DocTable-304"><span class="linenos">304</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Get info about each column as a dictionary.</span>
</span><span id="DocTable-305"><a href="#DocTable-305"><span class="linenos">305</span></a><span class="sd">        Returns:</span>
</span><span id="DocTable-306"><a href="#DocTable-306"><span class="linenos">306</span></a><span class="sd">            dict&lt;dict&gt;: info about each column.</span>
</span><span id="DocTable-307"><a href="#DocTable-307"><span class="linenos">307</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-308"><a href="#DocTable-308"><span class="linenos">308</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span><span id="DocTable-309"><a href="#DocTable-309"><span class="linenos">309</span></a>    
</span><span id="DocTable-310"><a href="#DocTable-310"><span class="linenos">310</span></a>    <span class="k">def</span> <span class="nf">schema_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="DocTable-311"><a href="#DocTable-311"><span class="linenos">311</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Get info about each column as a dictionary.</span>
</span><span id="DocTable-312"><a href="#DocTable-312"><span class="linenos">312</span></a><span class="sd">        Returns:</span>
</span><span id="DocTable-313"><a href="#DocTable-313"><span class="linenos">313</span></a><span class="sd">            DataFrame: info about each column.</span>
</span><span id="DocTable-314"><a href="#DocTable-314"><span class="linenos">314</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-315"><a href="#DocTable-315"><span class="linenos">315</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">schema_df</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span><span id="DocTable-316"><a href="#DocTable-316"><span class="linenos">316</span></a>    
</span><span id="DocTable-317"><a href="#DocTable-317"><span class="linenos">317</span></a>    <span class="k">def</span> <span class="nf">indices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
</span><span id="DocTable-318"><a href="#DocTable-318"><span class="linenos">318</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">inspector</span><span class="o">.</span><span class="n">get_indexes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span><span id="DocTable-319"><a href="#DocTable-319"><span class="linenos">319</span></a>    
</span><span id="DocTable-320"><a href="#DocTable-320"><span class="linenos">320</span></a>    <span class="c1">#################### Expose Query Functionality ###################</span>
</span><span id="DocTable-321"><a href="#DocTable-321"><span class="linenos">321</span></a>    
</span><span id="DocTable-322"><a href="#DocTable-322"><span class="linenos">322</span></a>    <span class="nd">@property</span>
</span><span id="DocTable-323"><a href="#DocTable-323"><span class="linenos">323</span></a>    <span class="k">def</span> <span class="nf">q</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Query</span><span class="p">:</span>
</span><span id="DocTable-324"><a href="#DocTable-324"><span class="linenos">324</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Gets a query object for this doctable.&#39;&#39;&#39;</span>
</span><span id="DocTable-325"><a href="#DocTable-325"><span class="linenos">325</span></a>        <span class="k">return</span> <span class="n">Query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="DocTable-326"><a href="#DocTable-326"><span class="linenos">326</span></a>    
</span><span id="DocTable-327"><a href="#DocTable-327"><span class="linenos">327</span></a>
</span><span id="DocTable-328"><a href="#DocTable-328"><span class="linenos">328</span></a>
</span><span id="DocTable-329"><a href="#DocTable-329"><span class="linenos">329</span></a>    <span class="c1">################# CRITICAL SQL METHODS ##################</span>
</span><span id="DocTable-330"><a href="#DocTable-330"><span class="linenos">330</span></a>    
</span><span id="DocTable-331"><a href="#DocTable-331"><span class="linenos">331</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">ResultProxy</span><span class="p">:</span>
</span><span id="DocTable-332"><a href="#DocTable-332"><span class="linenos">332</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Execute an sql command. Called by most higher-level functions.</span>
</span><span id="DocTable-333"><a href="#DocTable-333"><span class="linenos">333</span></a><span class="sd">        Args:</span>
</span><span id="DocTable-334"><a href="#DocTable-334"><span class="linenos">334</span></a><span class="sd">            query (sqlalchemy condition or str): query to execute;</span>
</span><span id="DocTable-335"><a href="#DocTable-335"><span class="linenos">335</span></a><span class="sd">                can be provided as sqlalchemy condition object or</span>
</span><span id="DocTable-336"><a href="#DocTable-336"><span class="linenos">336</span></a><span class="sd">                plain sql text.</span>
</span><span id="DocTable-337"><a href="#DocTable-337"><span class="linenos">337</span></a><span class="sd">            verbose (bool or None): Print SQL command issued before</span>
</span><span id="DocTable-338"><a href="#DocTable-338"><span class="linenos">338</span></a><span class="sd">                execution.</span>
</span><span id="DocTable-339"><a href="#DocTable-339"><span class="linenos">339</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-340"><a href="#DocTable-340"><span class="linenos">340</span></a>        <span class="n">prstr</span> <span class="o">=</span> <span class="s1">&#39;DocTable: </span><span class="si">{}</span><span class="s1">&#39;</span>
</span><span id="DocTable-341"><a href="#DocTable-341"><span class="linenos">341</span></a>        <span class="k">if</span> <span class="n">verbose</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-342"><a href="#DocTable-342"><span class="linenos">342</span></a>            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">prstr</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
</span><span id="DocTable-343"><a href="#DocTable-343"><span class="linenos">343</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">prstr</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
</span><span id="DocTable-344"><a href="#DocTable-344"><span class="linenos">344</span></a>        
</span><span id="DocTable-345"><a href="#DocTable-345"><span class="linenos">345</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-346"><a href="#DocTable-346"><span class="linenos">346</span></a>    
</span><span id="DocTable-347"><a href="#DocTable-347"><span class="linenos">347</span></a>    <span class="k">def</span> <span class="nf">_execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="n">conn</span><span class="p">:</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">Connection</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">ResultProxy</span><span class="p">:</span>
</span><span id="DocTable-348"><a href="#DocTable-348"><span class="linenos">348</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Execute sql query using either existing connection, provided connection, or without a connection.</span>
</span><span id="DocTable-349"><a href="#DocTable-349"><span class="linenos">349</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-350"><a href="#DocTable-350"><span class="linenos">350</span></a>        <span class="c1"># takes raw query object</span>
</span><span id="DocTable-351"><a href="#DocTable-351"><span class="linenos">351</span></a>        <span class="k">if</span> <span class="n">conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-352"><a href="#DocTable-352"><span class="linenos">352</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span>
</span><span id="DocTable-353"><a href="#DocTable-353"><span class="linenos">353</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-354"><a href="#DocTable-354"><span class="linenos">354</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span>
</span><span id="DocTable-355"><a href="#DocTable-355"><span class="linenos">355</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-356"><a href="#DocTable-356"><span class="linenos">356</span></a>            <span class="c1"># execute query using connectengine directly</span>
</span><span id="DocTable-357"><a href="#DocTable-357"><span class="linenos">357</span></a>            <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">)</span>
</span><span id="DocTable-358"><a href="#DocTable-358"><span class="linenos">358</span></a>        <span class="k">return</span> <span class="n">r</span>
</span><span id="DocTable-359"><a href="#DocTable-359"><span class="linenos">359</span></a>
</span><span id="DocTable-360"><a href="#DocTable-360"><span class="linenos">360</span></a>
</span><span id="DocTable-361"><a href="#DocTable-361"><span class="linenos">361</span></a>
</span><span id="DocTable-362"><a href="#DocTable-362"><span class="linenos">362</span></a>
</span><span id="DocTable-363"><a href="#DocTable-363"><span class="linenos">363</span></a>
</span><span id="DocTable-364"><a href="#DocTable-364"><span class="linenos">364</span></a>
</span><span id="DocTable-365"><a href="#DocTable-365"><span class="linenos">365</span></a>
</span><span id="DocTable-366"><a href="#DocTable-366"><span class="linenos">366</span></a>
</span><span id="DocTable-367"><a href="#DocTable-367"><span class="linenos">367</span></a>
</span><span id="DocTable-368"><a href="#DocTable-368"><span class="linenos">368</span></a>    
</span><span id="DocTable-369"><a href="#DocTable-369"><span class="linenos">369</span></a>
</span><span id="DocTable-370"><a href="#DocTable-370"><span class="linenos">370</span></a>    <span class="c1">################# DEPRICATED: ALL BELOW THIS HAS BEEN DEPRICATED ##################</span>
</span><span id="DocTable-371"><a href="#DocTable-371"><span class="linenos">371</span></a>
</span><span id="DocTable-372"><a href="#DocTable-372"><span class="linenos">372</span></a>
</span><span id="DocTable-373"><a href="#DocTable-373"><span class="linenos">373</span></a>
</span><span id="DocTable-374"><a href="#DocTable-374"><span class="linenos">374</span></a>
</span><span id="DocTable-375"><a href="#DocTable-375"><span class="linenos">375</span></a>    <span class="c1">################# INSERT METHODS ##################</span>
</span><span id="DocTable-376"><a href="#DocTable-376"><span class="linenos">376</span></a>            
</span><span id="DocTable-377"><a href="#DocTable-377"><span class="linenos">377</span></a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="DocTable-378"><a href="#DocTable-378"><span class="linenos">378</span></a>            <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]],</span>
</span><span id="DocTable-379"><a href="#DocTable-379"><span class="linenos">379</span></a>            <span class="o">*</span><span class="n">args</span><span class="p">,</span> 
</span><span id="DocTable-380"><a href="#DocTable-380"><span class="linenos">380</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="DocTable-381"><a href="#DocTable-381"><span class="linenos">381</span></a>        <span class="p">):</span>
</span><span id="DocTable-382"><a href="#DocTable-382"><span class="linenos">382</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_single() or .q.insert_multi().&#39;&#39;&#39;</span>
</span><span id="DocTable-383"><a href="#DocTable-383"><span class="linenos">383</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .insert() is depricated. Please use .q.insert_single(), &#39;</span>
</span><span id="DocTable-384"><a href="#DocTable-384"><span class="linenos">384</span></a>            <span class="s1">&#39;.q.insert_single_raw(), .q.insert_multi(), or .q.insert_multi() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-385"><a href="#DocTable-385"><span class="linenos">385</span></a>        
</span><span id="DocTable-386"><a href="#DocTable-386"><span class="linenos">386</span></a>        <span class="k">if</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">rowdata</span><span class="p">):</span>
</span><span id="DocTable-387"><a href="#DocTable-387"><span class="linenos">387</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_many</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-388"><a href="#DocTable-388"><span class="linenos">388</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-389"><a href="#DocTable-389"><span class="linenos">389</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_single</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-390"><a href="#DocTable-390"><span class="linenos">390</span></a>    
</span><span id="DocTable-391"><a href="#DocTable-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">insert_many</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="DocTable-392"><a href="#DocTable-392"><span class="linenos">392</span></a>            <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]],</span>
</span><span id="DocTable-393"><a href="#DocTable-393"><span class="linenos">393</span></a>            <span class="o">*</span><span class="n">args</span><span class="p">,</span> 
</span><span id="DocTable-394"><a href="#DocTable-394"><span class="linenos">394</span></a>            <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DocTable-395"><a href="#DocTable-395"><span class="linenos">395</span></a>        <span class="p">):</span>
</span><span id="DocTable-396"><a href="#DocTable-396"><span class="linenos">396</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_multi(), .q.insert_multi_raw()&#39;&#39;&#39;</span>
</span><span id="DocTable-397"><a href="#DocTable-397"><span class="linenos">397</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.insert_many() is depricated: please use .q.insert_multi() or &#39;</span>
</span><span id="DocTable-398"><a href="#DocTable-398"><span class="linenos">398</span></a>            <span class="s1">&#39;.q.insert_multi_raw()&#39;</span><span class="p">)</span>
</span><span id="DocTable-399"><a href="#DocTable-399"><span class="linenos">399</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">rowdata</span><span class="p">):</span>
</span><span id="DocTable-400"><a href="#DocTable-400"><span class="linenos">400</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;insert_many needs a list or tuple of schema objects.&#39;</span><span class="p">)</span>
</span><span id="DocTable-401"><a href="#DocTable-401"><span class="linenos">401</span></a>        
</span><span id="DocTable-402"><a href="#DocTable-402"><span class="linenos">402</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowdata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rowdata</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="DocTable-403"><a href="#DocTable-403"><span class="linenos">403</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_multi_raw</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-404"><a href="#DocTable-404"><span class="linenos">404</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-405"><a href="#DocTable-405"><span class="linenos">405</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_multi</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-406"><a href="#DocTable-406"><span class="linenos">406</span></a>    
</span><span id="DocTable-407"><a href="#DocTable-407"><span class="linenos">407</span></a>    <span class="k">def</span> <span class="nf">insert_single</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-408"><a href="#DocTable-408"><span class="linenos">408</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_single(), .q.insert_single_raw().&#39;&#39;&#39;</span>
</span><span id="DocTable-409"><a href="#DocTable-409"><span class="linenos">409</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.insert_single() is depricated: please use .q.insert_single() or &#39;</span>
</span><span id="DocTable-410"><a href="#DocTable-410"><span class="linenos">410</span></a>            <span class="s1">&#39;.q.insert_single_raw()&#39;</span><span class="p">)</span>
</span><span id="DocTable-411"><a href="#DocTable-411"><span class="linenos">411</span></a>        
</span><span id="DocTable-412"><a href="#DocTable-412"><span class="linenos">412</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="DocTable-413"><a href="#DocTable-413"><span class="linenos">413</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_single_raw</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-414"><a href="#DocTable-414"><span class="linenos">414</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-415"><a href="#DocTable-415"><span class="linenos">415</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_single</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-416"><a href="#DocTable-416"><span class="linenos">416</span></a>    
</span><span id="DocTable-417"><a href="#DocTable-417"><span class="linenos">417</span></a>    <span class="c1">################# SELECT METHODS ##################</span>
</span><span id="DocTable-418"><a href="#DocTable-418"><span class="linenos">418</span></a>    
</span><span id="DocTable-419"><a href="#DocTable-419"><span class="linenos">419</span></a>    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-420"><a href="#DocTable-420"><span class="linenos">420</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.count(), Query.count().&#39;&#39;&#39;</span>
</span><span id="DocTable-421"><a href="#DocTable-421"><span class="linenos">421</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .count() is depricated. Please use .q.count() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-422"><a href="#DocTable-422"><span class="linenos">422</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-423"><a href="#DocTable-423"><span class="linenos">423</span></a>        
</span><span id="DocTable-424"><a href="#DocTable-424"><span class="linenos">424</span></a>    <span class="k">def</span> <span class="nf">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-425"><a href="#DocTable-425"><span class="linenos">425</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_head(), Query.select_head().&#39;&#39;&#39;</span>
</span><span id="DocTable-426"><a href="#DocTable-426"><span class="linenos">426</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .head() is depricated. Please use .q.select_head() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-427"><a href="#DocTable-427"><span class="linenos">427</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-428"><a href="#DocTable-428"><span class="linenos">428</span></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">]</span>
</span><span id="DocTable-429"><a href="#DocTable-429"><span class="linenos">429</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_head</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-430"><a href="#DocTable-430"><span class="linenos">430</span></a>
</span><span id="DocTable-431"><a href="#DocTable-431"><span class="linenos">431</span></a>    <span class="k">def</span> <span class="nf">select_series</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">:</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-432"><a href="#DocTable-432"><span class="linenos">432</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_series(), Query.select_series().&#39;&#39;&#39;</span>
</span><span id="DocTable-433"><a href="#DocTable-433"><span class="linenos">433</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_series() is depricated. Please use .q.select_series() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-434"><a href="#DocTable-434"><span class="linenos">434</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_series</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-435"><a href="#DocTable-435"><span class="linenos">435</span></a>
</span><span id="DocTable-436"><a href="#DocTable-436"><span class="linenos">436</span></a>    <span class="k">def</span> <span class="nf">select_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-437"><a href="#DocTable-437"><span class="linenos">437</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_df(), Query.select_df().&#39;&#39;&#39;</span>
</span><span id="DocTable-438"><a href="#DocTable-438"><span class="linenos">438</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_df() is depricated. Please use .q.select_df() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-439"><a href="#DocTable-439"><span class="linenos">439</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-440"><a href="#DocTable-440"><span class="linenos">440</span></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">]</span>
</span><span id="DocTable-441"><a href="#DocTable-441"><span class="linenos">441</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_df</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-442"><a href="#DocTable-442"><span class="linenos">442</span></a>    
</span><span id="DocTable-443"><a href="#DocTable-443"><span class="linenos">443</span></a>    <span class="k">def</span> <span class="nf">select_first</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-444"><a href="#DocTable-444"><span class="linenos">444</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_first(), Query.select_first().&#39;&#39;&#39;</span>
</span><span id="DocTable-445"><a href="#DocTable-445"><span class="linenos">445</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_first() is depricated. Please use .q.select_first() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-446"><a href="#DocTable-446"><span class="linenos">446</span></a>        <span class="k">if</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-447"><a href="#DocTable-447"><span class="linenos">447</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The &quot;as_dataclass&quot; parameter has been depricated: please set get_raw=True or &#39;</span>
</span><span id="DocTable-448"><a href="#DocTable-448"><span class="linenos">448</span></a>                <span class="s1">&#39;select_raw to specify that you would like to retrieve a raw RowProxy pobject.&#39;</span><span class="p">)</span>
</span><span id="DocTable-449"><a href="#DocTable-449"><span class="linenos">449</span></a>        
</span><span id="DocTable-450"><a href="#DocTable-450"><span class="linenos">450</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-451"><a href="#DocTable-451"><span class="linenos">451</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_scalar</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-452"><a href="#DocTable-452"><span class="linenos">452</span></a>            
</span><span id="DocTable-453"><a href="#DocTable-453"><span class="linenos">453</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-454"><a href="#DocTable-454"><span class="linenos">454</span></a>
</span><span id="DocTable-455"><a href="#DocTable-455"><span class="linenos">455</span></a>            <span class="c1"># determine to get result as a dataclass or not</span>
</span><span id="DocTable-456"><a href="#DocTable-456"><span class="linenos">456</span></a>            <span class="n">raw_result</span> <span class="o">=</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">as_dataclass</span>
</span><span id="DocTable-457"><a href="#DocTable-457"><span class="linenos">457</span></a>            
</span><span id="DocTable-458"><a href="#DocTable-458"><span class="linenos">458</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DocTable-459"><a href="#DocTable-459"><span class="linenos">459</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_first</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">raw_result</span><span class="o">=</span><span class="n">raw_result</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-460"><a href="#DocTable-460"><span class="linenos">460</span></a>            <span class="k">except</span> <span class="n">RowToObjectConversionFailedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DocTable-461"><a href="#DocTable-461"><span class="linenos">461</span></a>                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Conversion from row to object failed according to the following &#39;</span>
</span><span id="DocTable-462"><a href="#DocTable-462"><span class="linenos">462</span></a>                    <span class="sa">f</span><span class="s1">&#39;error. Please use .q.select_first(..,raw_result=True) next time &#39;</span>
</span><span id="DocTable-463"><a href="#DocTable-463"><span class="linenos">463</span></a>                    <span class="sa">f</span><span class="s1">&#39;in the future to avoid this issue. </span><span class="si">{</span><span class="n">e</span><span class="si">=}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="DocTable-464"><a href="#DocTable-464"><span class="linenos">464</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_first</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">raw_result</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-465"><a href="#DocTable-465"><span class="linenos">465</span></a>            
</span><span id="DocTable-466"><a href="#DocTable-466"><span class="linenos">466</span></a>            
</span><span id="DocTable-467"><a href="#DocTable-467"><span class="linenos">467</span></a>    
</span><span id="DocTable-468"><a href="#DocTable-468"><span class="linenos">468</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-469"><a href="#DocTable-469"><span class="linenos">469</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select(), Query.select().&#39;&#39;&#39;</span>
</span><span id="DocTable-470"><a href="#DocTable-470"><span class="linenos">470</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select() is depricated. Please use .q.select() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-471"><a href="#DocTable-471"><span class="linenos">471</span></a>        <span class="k">if</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-472"><a href="#DocTable-472"><span class="linenos">472</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The &quot;as_dataclass&quot; parameter has been depricated: please set get_raw=True or &#39;</span>
</span><span id="DocTable-473"><a href="#DocTable-473"><span class="linenos">473</span></a>                <span class="s1">&#39;select_raw to specify that you would like to retrieve a raw RowProxy pobject.&#39;</span><span class="p">)</span>
</span><span id="DocTable-474"><a href="#DocTable-474"><span class="linenos">474</span></a>        
</span><span id="DocTable-475"><a href="#DocTable-475"><span class="linenos">475</span></a>        <span class="n">raw_result</span> <span class="o">=</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">as_dataclass</span>
</span><span id="DocTable-476"><a href="#DocTable-476"><span class="linenos">476</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable-477"><a href="#DocTable-477"><span class="linenos">477</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_col</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-478"><a href="#DocTable-478"><span class="linenos">478</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-479"><a href="#DocTable-479"><span class="linenos">479</span></a>            <span class="k">if</span> <span class="n">raw_result</span><span class="p">:</span>
</span><span id="DocTable-480"><a href="#DocTable-480"><span class="linenos">480</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_raw</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-481"><a href="#DocTable-481"><span class="linenos">481</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable-482"><a href="#DocTable-482"><span class="linenos">482</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="DocTable-483"><a href="#DocTable-483"><span class="linenos">483</span></a>                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-484"><a href="#DocTable-484"><span class="linenos">484</span></a>                <span class="k">except</span> <span class="n">RowToObjectConversionFailedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DocTable-485"><a href="#DocTable-485"><span class="linenos">485</span></a>                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Conversion from row to object failed according to the following &#39;</span>
</span><span id="DocTable-486"><a href="#DocTable-486"><span class="linenos">486</span></a>                        <span class="sa">f</span><span class="s1">&#39;error. Please use .q.select_raw() when requesting non-object formatted &#39;</span>
</span><span id="DocTable-487"><a href="#DocTable-487"><span class="linenos">487</span></a>                        <span class="sa">f</span><span class="s1">&#39;data such as counts or sums in the future. For now it is automatically &#39;</span>
</span><span id="DocTable-488"><a href="#DocTable-488"><span class="linenos">488</span></a>                        <span class="sa">f</span><span class="s1">&#39;converted. </span><span class="si">{</span><span class="n">e</span><span class="si">=}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="DocTable-489"><a href="#DocTable-489"><span class="linenos">489</span></a>                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_raw</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-490"><a href="#DocTable-490"><span class="linenos">490</span></a>
</span><span id="DocTable-491"><a href="#DocTable-491"><span class="linenos">491</span></a>
</span><span id="DocTable-492"><a href="#DocTable-492"><span class="linenos">492</span></a>    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">DocTable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-493"><a href="#DocTable-493"><span class="linenos">493</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Wrapper over table.join(), can pass to from_obj parameter for .select()</span>
</span><span id="DocTable-494"><a href="#DocTable-494"><span class="linenos">494</span></a><span class="sd">        Args:</span>
</span><span id="DocTable-495"><a href="#DocTable-495"><span class="linenos">495</span></a><span class="sd">            other (DocTable): other doctable to join</span>
</span><span id="DocTable-496"><a href="#DocTable-496"><span class="linenos">496</span></a><span class="sd">            *args, **kwargs: passed to table.join() method</span>
</span><span id="DocTable-497"><a href="#DocTable-497"><span class="linenos">497</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-498"><a href="#DocTable-498"><span class="linenos">498</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_table</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-499"><a href="#DocTable-499"><span class="linenos">499</span></a>    
</span><span id="DocTable-500"><a href="#DocTable-500"><span class="linenos">500</span></a>    
</span><span id="DocTable-501"><a href="#DocTable-501"><span class="linenos">501</span></a>    <span class="c1">#################### Select/Insert in Chunk Methods ###################</span>
</span><span id="DocTable-502"><a href="#DocTable-502"><span class="linenos">502</span></a>    
</span><span id="DocTable-503"><a href="#DocTable-503"><span class="linenos">503</span></a>    <span class="k">def</span> <span class="nf">select_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-504"><a href="#DocTable-504"><span class="linenos">504</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated: see docs for .q.select_chunks()&#39;&#39;&#39;</span>
</span><span id="DocTable-505"><a href="#DocTable-505"><span class="linenos">505</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_chunks</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-506"><a href="#DocTable-506"><span class="linenos">506</span></a>                
</span><span id="DocTable-507"><a href="#DocTable-507"><span class="linenos">507</span></a>    <span class="k">def</span> <span class="nf">select_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-508"><a href="#DocTable-508"><span class="linenos">508</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_iter.&#39;&#39;&#39;</span>
</span><span id="DocTable-509"><a href="#DocTable-509"><span class="linenos">509</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.select_iter() is depricated. Please use .q.select_iter()&#39;</span><span class="p">)</span>
</span><span id="DocTable-510"><a href="#DocTable-510"><span class="linenos">510</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_iter</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-511"><a href="#DocTable-511"><span class="linenos">511</span></a>                
</span><span id="DocTable-512"><a href="#DocTable-512"><span class="linenos">512</span></a>    <span class="k">def</span> <span class="nf">get_queueinserter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-513"><a href="#DocTable-513"><span class="linenos">513</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Get an object that will queue rows for insertion.</span>
</span><span id="DocTable-514"><a href="#DocTable-514"><span class="linenos">514</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-515"><a href="#DocTable-515"><span class="linenos">515</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.get_queueinserter() has been depricated entirely. please&#39;</span>
</span><span id="DocTable-516"><a href="#DocTable-516"><span class="linenos">516</span></a>            <span class="s1">&#39;avoid using it.&#39;</span><span class="p">)</span>
</span><span id="DocTable-517"><a href="#DocTable-517"><span class="linenos">517</span></a>        <span class="k">return</span> <span class="n">QueueInserter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-518"><a href="#DocTable-518"><span class="linenos">518</span></a>
</span><span id="DocTable-519"><a href="#DocTable-519"><span class="linenos">519</span></a>    <span class="c1">#################### Update and Delete Methods ###################</span>
</span><span id="DocTable-520"><a href="#DocTable-520"><span class="linenos">520</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-521"><a href="#DocTable-521"><span class="linenos">521</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.update(), Query.update().&#39;&#39;&#39;</span>
</span><span id="DocTable-522"><a href="#DocTable-522"><span class="linenos">522</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .update() is depricated. Please use .q.update() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-523"><a href="#DocTable-523"><span class="linenos">523</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-524"><a href="#DocTable-524"><span class="linenos">524</span></a>
</span><span id="DocTable-525"><a href="#DocTable-525"><span class="linenos">525</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">delete_all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-526"><a href="#DocTable-526"><span class="linenos">526</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.delete(), Query.delete().&#39;&#39;&#39;</span>
</span><span id="DocTable-527"><a href="#DocTable-527"><span class="linenos">527</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .delete() is depricated. Please use .q.delete() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable-528"><a href="#DocTable-528"><span class="linenos">528</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">delete_all</span><span class="o">=</span><span class="n">delete_all</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-529"><a href="#DocTable-529"><span class="linenos">529</span></a>    
</span><span id="DocTable-530"><a href="#DocTable-530"><span class="linenos">530</span></a>    
</span><span id="DocTable-531"><a href="#DocTable-531"><span class="linenos">531</span></a>    <span class="c1">#################### Bootstrapping Methods ###################</span>
</span><span id="DocTable-532"><a href="#DocTable-532"><span class="linenos">532</span></a>    
</span><span id="DocTable-533"><a href="#DocTable-533"><span class="linenos">533</span></a>    <span class="k">def</span> <span class="nf">bootstrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable-534"><a href="#DocTable-534"><span class="linenos">534</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Generates a DocBootstrapper object to sample from.</span>
</span><span id="DocTable-535"><a href="#DocTable-535"><span class="linenos">535</span></a><span class="sd">        Notes:</span>
</span><span id="DocTable-536"><a href="#DocTable-536"><span class="linenos">536</span></a><span class="sd">            The DocBootstrap object keeps all selected docs in</span>
</span><span id="DocTable-537"><a href="#DocTable-537"><span class="linenos">537</span></a><span class="sd">                memory, and yields samples with .sample().</span>
</span><span id="DocTable-538"><a href="#DocTable-538"><span class="linenos">538</span></a><span class="sd">        Args:</span>
</span><span id="DocTable-539"><a href="#DocTable-539"><span class="linenos">539</span></a><span class="sd">            *args: passed to .select()</span>
</span><span id="DocTable-540"><a href="#DocTable-540"><span class="linenos">540</span></a><span class="sd">            n (int): number of samples to bs. If left unset, can</span>
</span><span id="DocTable-541"><a href="#DocTable-541"><span class="linenos">541</span></a><span class="sd">                specify when drawing sample from DocBootstrap obj.</span>
</span><span id="DocTable-542"><a href="#DocTable-542"><span class="linenos">542</span></a><span class="sd">            **kwargs: passed to .select()</span>
</span><span id="DocTable-543"><a href="#DocTable-543"><span class="linenos">543</span></a><span class="sd">        Returns:</span>
</span><span id="DocTable-544"><a href="#DocTable-544"><span class="linenos">544</span></a><span class="sd">            DocBootstrap object for bootstrapping.</span>
</span><span id="DocTable-545"><a href="#DocTable-545"><span class="linenos">545</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-546"><a href="#DocTable-546"><span class="linenos">546</span></a>        <span class="n">docs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable-547"><a href="#DocTable-547"><span class="linenos">547</span></a>        <span class="k">return</span> <span class="n">DocBootstrap</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
</span><span id="DocTable-548"><a href="#DocTable-548"><span class="linenos">548</span></a>    
</span><span id="DocTable-549"><a href="#DocTable-549"><span class="linenos">549</span></a>    
</span><span id="DocTable-550"><a href="#DocTable-550"><span class="linenos">550</span></a>    
</span><span id="DocTable-551"><a href="#DocTable-551"><span class="linenos">551</span></a>    
</span><span id="DocTable-552"><a href="#DocTable-552"><span class="linenos">552</span></a>    <span class="c1">################# FILE COLUMN METHODS ##################</span>
</span><span id="DocTable-553"><a href="#DocTable-553"><span class="linenos">553</span></a>
</span><span id="DocTable-554"><a href="#DocTable-554"><span class="linenos">554</span></a>    <span class="k">def</span> <span class="nf">clean_col_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">check_missing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_extraneous</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="DocTable-555"><a href="#DocTable-555"><span class="linenos">555</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Make sure there is a 1-1 mapping between files listed in db and files in folder.</span>
</span><span id="DocTable-556"><a href="#DocTable-556"><span class="linenos">556</span></a><span class="sd">        Args:</span>
</span><span id="DocTable-557"><a href="#DocTable-557"><span class="linenos">557</span></a><span class="sd">            col (str or Column object): column to clean picklefiles for.</span>
</span><span id="DocTable-558"><a href="#DocTable-558"><span class="linenos">558</span></a><span class="sd">            ignore_missing (bool): if False, throw an error when a db file doesn&#39;t exist.</span>
</span><span id="DocTable-559"><a href="#DocTable-559"><span class="linenos">559</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable-560"><a href="#DocTable-560"><span class="linenos">560</span></a>        <span class="n">col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</span><span id="DocTable-561"><a href="#DocTable-561"><span class="linenos">561</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">FileTypeBase</span><span class="p">):</span>
</span><span id="DocTable-562"><a href="#DocTable-562"><span class="linenos">562</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> is not a file type; only call clean_col_files for a file column types.&#39;</span><span class="p">)</span>
</span><span id="DocTable-563"><a href="#DocTable-563"><span class="linenos">563</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">check_missing</span> <span class="ow">or</span> <span class="n">delete_extraneous</span><span class="p">):</span>
</span><span id="DocTable-564"><a href="#DocTable-564"><span class="linenos">564</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Either check_missing or delete_extraneous should be set to true, &#39;</span>
</span><span id="DocTable-565"><a href="#DocTable-565"><span class="linenos">565</span></a>                             <span class="s1">&#39;or else this method does nothing.&#39;</span><span class="p">)</span>
</span><span id="DocTable-566"><a href="#DocTable-566"><span class="linenos">566</span></a>        
</span><span id="DocTable-567"><a href="#DocTable-567"><span class="linenos">567</span></a>        <span class="c1"># get column filenames</span>
</span><span id="DocTable-568"><a href="#DocTable-568"><span class="linenos">568</span></a>        <span class="k">with</span> <span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">control</span><span class="p">:</span>
</span><span id="DocTable-569"><a href="#DocTable-569"><span class="linenos">569</span></a>            <span class="n">db_fnames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="n">col</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">))</span>
</span><span id="DocTable-570"><a href="#DocTable-570"><span class="linenos">570</span></a>        
</span><span id="DocTable-571"><a href="#DocTable-571"><span class="linenos">571</span></a>        <span class="c1"># get existing files from filesystem</span>
</span><span id="DocTable-572"><a href="#DocTable-572"><span class="linenos">572</span></a>        <span class="n">fpath</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s1">/*</span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">file_ext</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="DocTable-573"><a href="#DocTable-573"><span class="linenos">573</span></a>        <span class="n">exist_fnames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">fpath</span><span class="p">))</span>
</span><span id="DocTable-574"><a href="#DocTable-574"><span class="linenos">574</span></a>        <span class="n">intersect</span> <span class="o">=</span> <span class="n">db_fnames</span> <span class="o">&amp;</span> <span class="n">exist_fnames</span>
</span><span id="DocTable-575"><a href="#DocTable-575"><span class="linenos">575</span></a>        <span class="c1">#print(db_fnames, exist_fnames)</span>
</span><span id="DocTable-576"><a href="#DocTable-576"><span class="linenos">576</span></a>        
</span><span id="DocTable-577"><a href="#DocTable-577"><span class="linenos">577</span></a>        <span class="c1"># remove files not listed in db</span>
</span><span id="DocTable-578"><a href="#DocTable-578"><span class="linenos">578</span></a>        <span class="n">extraneous_fnames</span> <span class="o">=</span> <span class="n">exist_fnames</span> <span class="o">-</span> <span class="n">intersect</span>
</span><span id="DocTable-579"><a href="#DocTable-579"><span class="linenos">579</span></a>        <span class="k">if</span> <span class="n">delete_extraneous</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">extraneous_fnames</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DocTable-580"><a href="#DocTable-580"><span class="linenos">580</span></a>            <span class="k">for</span> <span class="n">rm_fname</span> <span class="ow">in</span> <span class="n">extraneous_fnames</span><span class="p">:</span>
</span><span id="DocTable-581"><a href="#DocTable-581"><span class="linenos">581</span></a>                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">rm_fname</span><span class="p">)</span>
</span><span id="DocTable-582"><a href="#DocTable-582"><span class="linenos">582</span></a>        
</span><span id="DocTable-583"><a href="#DocTable-583"><span class="linenos">583</span></a>        <span class="c1"># throw error if filesystem is missing some files</span>
</span><span id="DocTable-584"><a href="#DocTable-584"><span class="linenos">584</span></a>        <span class="n">miss_fnames</span> <span class="o">=</span> <span class="n">db_fnames</span><span class="o">-</span><span class="n">intersect</span>
</span><span id="DocTable-585"><a href="#DocTable-585"><span class="linenos">585</span></a>        <span class="k">if</span> <span class="n">check_missing</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">miss_fnames</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DocTable-586"><a href="#DocTable-586"><span class="linenos">586</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s1">&#39;These files were not found while cleaning: </span><span class="si">{}</span><span class="s1">&#39;</span>
</span><span id="DocTable-587"><a href="#DocTable-587"><span class="linenos">587</span></a>                <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">miss_fnames</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Class for managing a single database table.
Description: This class manages schema and connection information to provide
    an object-based interface to perform queries on a single table 
    in a database (although multi-table designs are possible with 
    multiple DocTables). It is designed to maintain informabout about the 
    underlying database structure of the table, making it possible to 
    execute queries without using the SQL language.</p>

<p>Settable static attributes (overridden if related constructor argument passed):
    _target_ (str): target database to connect to - used when a doctable
        will always connect to the same target (i.e., a server etc).
    _tabname_ (str): name of table to connect to (and create).
    _schema_ (DocTableSchema): schema definition for this doctable, to be used
        when creating a new table and to manage table information.
    _indices_ (dict): indices to apply to the table
    _constraints_ (list): constraints to apply to the table
    _doctable_args_ (dict): any other constructor arguments that should always
        be used when instantiating. Overridden by providing arguments
        to the constructor.</p>
</div>


                            <div id="DocTable.__init__" class="classattr">
                                        <input id="DocTable.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DocTable</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">schema</span><span class="p">:</span> <span class="n"><a href="schema/dataclassschema/doctableschema.html#DocTableSchema">doctable.schema.dataclassschema.doctableschema.DocTableSchema</a></span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">tabname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">indices</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="schema/dataclassschema/index.html#Index">doctable.schema.dataclassschema.index.Index</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">constraints</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Constraint</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">dialect</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;sqlite&#39;</span>,</span><span class="param">	<span class="n">engine</span><span class="p">:</span> <span class="n"><a href="connectengine.html#ConnectEngine">doctable.connectengine.ConnectEngine</a></span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">readonly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">new_db</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">new_table</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">persistent_conn</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">allow_inconsistent_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">create_indices</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">engine_kwargs</span></span>)</span>

                <label class="view-source-button" for="DocTable.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.__init__-63"><a href="#DocTable.__init__-63"><span class="linenos"> 63</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="DocTable.__init__-64"><a href="#DocTable.__init__-64"><span class="linenos"> 64</span></a>            <span class="n">target</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">DocTableSchema</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">tabname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
</span><span id="DocTable.__init__-65"><a href="#DocTable.__init__-65"><span class="linenos"> 65</span></a>            <span class="n">indices</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">constraints</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">Constraint</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DocTable.__init__-66"><a href="#DocTable.__init__-66"><span class="linenos"> 66</span></a>            <span class="n">dialect</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;sqlite&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="p">:</span> <span class="n">ConnectEngine</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
</span><span id="DocTable.__init__-67"><a href="#DocTable.__init__-67"><span class="linenos"> 67</span></a>            <span class="n">readonly</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">new_db</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">new_table</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> 
</span><span id="DocTable.__init__-68"><a href="#DocTable.__init__-68"><span class="linenos"> 68</span></a>            <span class="n">persistent_conn</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> 
</span><span id="DocTable.__init__-69"><a href="#DocTable.__init__-69"><span class="linenos"> 69</span></a>            <span class="n">allow_inconsistent_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">create_indices</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="DocTable.__init__-70"><a href="#DocTable.__init__-70"><span class="linenos"> 70</span></a>            <span class="o">**</span><span class="n">engine_kwargs</span><span class="p">):</span>
</span><span id="DocTable.__init__-71"><a href="#DocTable.__init__-71"><span class="linenos"> 71</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Create new database.</span>
</span><span id="DocTable.__init__-72"><a href="#DocTable.__init__-72"><span class="linenos"> 72</span></a><span class="sd">        Args:</span>
</span><span id="DocTable.__init__-73"><a href="#DocTable.__init__-73"><span class="linenos"> 73</span></a><span class="sd">            target (str): filename for database to connect to. &quot;:memory:&quot; is a </span>
</span><span id="DocTable.__init__-74"><a href="#DocTable.__init__-74"><span class="linenos"> 74</span></a><span class="sd">                special value indicating to the python sqlite engine that the db</span>
</span><span id="DocTable.__init__-75"><a href="#DocTable.__init__-75"><span class="linenos"> 75</span></a><span class="sd">                should be created in memory. Will create new empty database file</span>
</span><span id="DocTable.__init__-76"><a href="#DocTable.__init__-76"><span class="linenos"> 76</span></a><span class="sd">                if it does not exist and new_db==True, and add a new table using</span>
</span><span id="DocTable.__init__-77"><a href="#DocTable.__init__-77"><span class="linenos"> 77</span></a><span class="sd">                specified schema if new_table==True.</span>
</span><span id="DocTable.__init__-78"><a href="#DocTable.__init__-78"><span class="linenos"> 78</span></a><span class="sd">            tabname (str): table name for this specific doctable.</span>
</span><span id="DocTable.__init__-79"><a href="#DocTable.__init__-79"><span class="linenos"> 79</span></a><span class="sd">            schema (type or list&lt;list&gt;): schema from which to create db. Includes a</span>
</span><span id="DocTable.__init__-80"><a href="#DocTable.__init__-80"><span class="linenos"> 80</span></a><span class="sd">                list of column names and types (including contraints and indexes) as tuples</span>
</span><span id="DocTable.__init__-81"><a href="#DocTable.__init__-81"><span class="linenos"> 81</span></a><span class="sd">                defined according to information needed to construct the sqlalchemy</span>
</span><span id="DocTable.__init__-82"><a href="#DocTable.__init__-82"><span class="linenos"> 82</span></a><span class="sd">                objects. Alternatively, can be a schema class (see docs).</span>
</span><span id="DocTable.__init__-83"><a href="#DocTable.__init__-83"><span class="linenos"> 83</span></a><span class="sd">            dialect (str): database engine through which to construct db.</span>
</span><span id="DocTable.__init__-84"><a href="#DocTable.__init__-84"><span class="linenos"> 84</span></a><span class="sd">                For more info, see sqlalchemy dialect info:</span>
</span><span id="DocTable.__init__-85"><a href="#DocTable.__init__-85"><span class="linenos"> 85</span></a><span class="sd">                https://docs.sqlalchemy.org/en/13/dialects/</span>
</span><span id="DocTable.__init__-86"><a href="#DocTable.__init__-86"><span class="linenos"> 86</span></a><span class="sd">            engine (ConnectEngine): engine from another doctable if working with different</span>
</span><span id="DocTable.__init__-87"><a href="#DocTable.__init__-87"><span class="linenos"> 87</span></a><span class="sd">                tables in the same db.</span>
</span><span id="DocTable.__init__-88"><a href="#DocTable.__init__-88"><span class="linenos"> 88</span></a><span class="sd">            readonly (bool): Prevents user from calling insert(), delete(), or </span>
</span><span id="DocTable.__init__-89"><a href="#DocTable.__init__-89"><span class="linenos"> 89</span></a><span class="sd">                update(). Will not block other sql possible commands.</span>
</span><span id="DocTable.__init__-90"><a href="#DocTable.__init__-90"><span class="linenos"> 90</span></a><span class="sd">            new_db (bool): Indicate if new db file should be created given </span>
</span><span id="DocTable.__init__-91"><a href="#DocTable.__init__-91"><span class="linenos"> 91</span></a><span class="sd">                that a schema is provided and the db file doesn&#39;t exist.</span>
</span><span id="DocTable.__init__-92"><a href="#DocTable.__init__-92"><span class="linenos"> 92</span></a><span class="sd">            new_table (bool): Allow doctable to create a new table if one </span>
</span><span id="DocTable.__init__-93"><a href="#DocTable.__init__-93"><span class="linenos"> 93</span></a><span class="sd">                doesn&#39;t exist already.</span>
</span><span id="DocTable.__init__-94"><a href="#DocTable.__init__-94"><span class="linenos"> 94</span></a><span class="sd">            persistent_conn (bool): whether or not to create a persistent conn </span>
</span><span id="DocTable.__init__-95"><a href="#DocTable.__init__-95"><span class="linenos"> 95</span></a><span class="sd">                to database. Otherwise will create temporary connection for each</span>
</span><span id="DocTable.__init__-96"><a href="#DocTable.__init__-96"><span class="linenos"> 96</span></a><span class="sd">                query.</span>
</span><span id="DocTable.__init__-97"><a href="#DocTable.__init__-97"><span class="linenos"> 97</span></a><span class="sd">            verbose (bool): Print every sql command before executing.</span>
</span><span id="DocTable.__init__-98"><a href="#DocTable.__init__-98"><span class="linenos"> 98</span></a><span class="sd">            engine_kwargs (**kwargs): Pass directly to the sqlalchemy</span>
</span><span id="DocTable.__init__-99"><a href="#DocTable.__init__-99"><span class="linenos"> 99</span></a><span class="sd">                .create_engine() as connect_args. Args typically vary by dialect.</span>
</span><span id="DocTable.__init__-100"><a href="#DocTable.__init__-100"><span class="linenos">100</span></a><span class="sd">                Example: connect_args={&#39;timeout&#39;: 15} for sqlite</span>
</span><span id="DocTable.__init__-101"><a href="#DocTable.__init__-101"><span class="linenos">101</span></a><span class="sd">                or connect_args={&#39;connect_timeout&#39;: 15} for PostgreSQL.</span>
</span><span id="DocTable.__init__-102"><a href="#DocTable.__init__-102"><span class="linenos">102</span></a>
</span><span id="DocTable.__init__-103"><a href="#DocTable.__init__-103"><span class="linenos">103</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.__init__-104"><a href="#DocTable.__init__-104"><span class="linenos">104</span></a>        <span class="c1"># handle defaults</span>
</span><span id="DocTable.__init__-105"><a href="#DocTable.__init__-105"><span class="linenos">105</span></a>        <span class="n">tabname</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tabname</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_tabname_&#39;</span><span class="p">,</span> <span class="n">DEFAULT_TABNAME</span><span class="p">)</span>
</span><span id="DocTable.__init__-106"><a href="#DocTable.__init__-106"><span class="linenos">106</span></a>        <span class="n">schema</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_schema_&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DocTable.__init__-107"><a href="#DocTable.__init__-107"><span class="linenos">107</span></a>        <span class="n">target</span> <span class="o">=</span> <span class="n">parse_static_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="s1">&#39;tabname&#39;</span><span class="p">,</span> <span class="s1">&#39;_target_&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span><span id="DocTable.__init__-108"><a href="#DocTable.__init__-108"><span class="linenos">108</span></a>
</span><span id="DocTable.__init__-109"><a href="#DocTable.__init__-109"><span class="linenos">109</span></a>        <span class="c1"># dependent args</span>
</span><span id="DocTable.__init__-110"><a href="#DocTable.__init__-110"><span class="linenos">110</span></a>        <span class="k">if</span> <span class="n">readonly</span><span class="p">:</span>
</span><span id="DocTable.__init__-111"><a href="#DocTable.__init__-111"><span class="linenos">111</span></a>            <span class="n">new_db</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="DocTable.__init__-112"><a href="#DocTable.__init__-112"><span class="linenos">112</span></a>            <span class="n">new_table</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="DocTable.__init__-113"><a href="#DocTable.__init__-113"><span class="linenos">113</span></a>
</span><span id="DocTable.__init__-114"><a href="#DocTable.__init__-114"><span class="linenos">114</span></a>        <span class="c1"># if no engine or schema is provided, the database must already exist and user intends to infer</span>
</span><span id="DocTable.__init__-115"><a href="#DocTable.__init__-115"><span class="linenos">115</span></a>        <span class="k">if</span> <span class="n">dialect</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;sqlite&#39;</span><span class="p">):</span>
</span><span id="DocTable.__init__-116"><a href="#DocTable.__init__-116"><span class="linenos">116</span></a>            <span class="k">if</span> <span class="n">schema</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">engine</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span><span class="n">target</span> <span class="o">==</span> <span class="s1">&#39;:memory:&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">target</span><span class="p">)):</span>
</span><span id="DocTable.__init__-117"><a href="#DocTable.__init__-117"><span class="linenos">117</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Schema must be provided if using memory database or &#39;</span>
</span><span id="DocTable.__init__-118"><a href="#DocTable.__init__-118"><span class="linenos">118</span></a>                             <span class="s1">&#39;database file does not exist yet. Need to provide schema &#39;</span>
</span><span id="DocTable.__init__-119"><a href="#DocTable.__init__-119"><span class="linenos">119</span></a>                             <span class="s1">&#39;when creating a new table.&#39;</span><span class="p">)</span>
</span><span id="DocTable.__init__-120"><a href="#DocTable.__init__-120"><span class="linenos">120</span></a>
</span><span id="DocTable.__init__-121"><a href="#DocTable.__init__-121"><span class="linenos">121</span></a>        <span class="c1"># set target and engine</span>
</span><span id="DocTable.__init__-122"><a href="#DocTable.__init__-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="n">target</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.__init__-123"><a href="#DocTable.__init__-123"><span class="linenos">123</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DocTable.__init__-124"><a href="#DocTable.__init__-124"><span class="linenos">124</span></a>                <span class="n">target</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">target</span>
</span><span id="DocTable.__init__-125"><a href="#DocTable.__init__-125"><span class="linenos">125</span></a>            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DocTable.__init__-126"><a href="#DocTable.__init__-126"><span class="linenos">126</span></a>                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Either target or engine must be provided.&#39;</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
</span><span id="DocTable.__init__-127"><a href="#DocTable.__init__-127"><span class="linenos">127</span></a>        
</span><span id="DocTable.__init__-128"><a href="#DocTable.__init__-128"><span class="linenos">128</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">engine</span>
</span><span id="DocTable.__init__-129"><a href="#DocTable.__init__-129"><span class="linenos">129</span></a>
</span><span id="DocTable.__init__-130"><a href="#DocTable.__init__-130"><span class="linenos">130</span></a>        <span class="k">elif</span> <span class="n">engine</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.__init__-131"><a href="#DocTable.__init__-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="n">ConnectEngine</span><span class="p">(</span>
</span><span id="DocTable.__init__-132"><a href="#DocTable.__init__-132"><span class="linenos">132</span></a>                <span class="n">target</span> <span class="o">=</span> <span class="n">target</span><span class="p">,</span> 
</span><span id="DocTable.__init__-133"><a href="#DocTable.__init__-133"><span class="linenos">133</span></a>                <span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span><span class="p">,</span> 
</span><span id="DocTable.__init__-134"><a href="#DocTable.__init__-134"><span class="linenos">134</span></a>                <span class="n">new_db</span> <span class="o">=</span> <span class="n">new_db</span><span class="p">,</span> 
</span><span id="DocTable.__init__-135"><a href="#DocTable.__init__-135"><span class="linenos">135</span></a>                <span class="o">**</span><span class="n">engine_kwargs</span>
</span><span id="DocTable.__init__-136"><a href="#DocTable.__init__-136"><span class="linenos">136</span></a>            <span class="p">)</span>
</span><span id="DocTable.__init__-137"><a href="#DocTable.__init__-137"><span class="linenos">137</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.__init__-138"><a href="#DocTable.__init__-138"><span class="linenos">138</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot provide both target and engine.&#39;</span><span class="p">)</span>
</span><span id="DocTable.__init__-139"><a href="#DocTable.__init__-139"><span class="linenos">139</span></a>        
</span><span id="DocTable.__init__-140"><a href="#DocTable.__init__-140"><span class="linenos">140</span></a>        <span class="c1"># store arguments as-is</span>
</span><span id="DocTable.__init__-141"><a href="#DocTable.__init__-141"><span class="linenos">141</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span> <span class="o">=</span> <span class="n">tabname</span>
</span><span id="DocTable.__init__-142"><a href="#DocTable.__init__-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_target</span> <span class="o">=</span> <span class="n">target</span>
</span><span id="DocTable.__init__-143"><a href="#DocTable.__init__-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dialect</span> <span class="o">=</span> <span class="n">dialect</span>
</span><span id="DocTable.__init__-144"><a href="#DocTable.__init__-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_new_db</span> <span class="o">=</span> <span class="n">new_db</span>
</span><span id="DocTable.__init__-145"><a href="#DocTable.__init__-145"><span class="linenos">145</span></a>
</span><span id="DocTable.__init__-146"><a href="#DocTable.__init__-146"><span class="linenos">146</span></a>        <span class="c1"># flags</span>
</span><span id="DocTable.__init__-147"><a href="#DocTable.__init__-147"><span class="linenos">147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
</span><span id="DocTable.__init__-148"><a href="#DocTable.__init__-148"><span class="linenos">148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span> <span class="o">=</span> <span class="n">persistent_conn</span>
</span><span id="DocTable.__init__-149"><a href="#DocTable.__init__-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">readonly</span> <span class="o">=</span> <span class="n">readonly</span>
</span><span id="DocTable.__init__-150"><a href="#DocTable.__init__-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_new_table</span> <span class="o">=</span> <span class="n">new_table</span>
</span><span id="DocTable.__init__-151"><a href="#DocTable.__init__-151"><span class="linenos">151</span></a>                
</span><span id="DocTable.__init__-152"><a href="#DocTable.__init__-152"><span class="linenos">152</span></a>        <span class="c1"># connect to existing table or create new one</span>
</span><span id="DocTable.__init__-153"><a href="#DocTable.__init__-153"><span class="linenos">153</span></a>        <span class="c1"># NOTE: this is not a good way to detect the schema type - make something more obvious</span>
</span><span id="DocTable.__init__-154"><a href="#DocTable.__init__-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;_doctable_from_row_obj&#39;</span><span class="p">):</span>
</span><span id="DocTable.__init__-155"><a href="#DocTable.__init__-155"><span class="linenos">155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">RowDictSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="DocTable.__init__-156"><a href="#DocTable.__init__-156"><span class="linenos">156</span></a>                <span class="n">schema_class</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="DocTable.__init__-157"><a href="#DocTable.__init__-157"><span class="linenos">157</span></a>                <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">,</span> <span class="c1"># need these if we want to grab from constructor</span>
</span><span id="DocTable.__init__-158"><a href="#DocTable.__init__-158"><span class="linenos">158</span></a>                <span class="n">constraints</span> <span class="o">=</span> <span class="n">constraints</span><span class="p">,</span>
</span><span id="DocTable.__init__-159"><a href="#DocTable.__init__-159"><span class="linenos">159</span></a>            <span class="p">)</span>
</span><span id="DocTable.__init__-160"><a href="#DocTable.__init__-160"><span class="linenos">160</span></a>        <span class="k">elif</span> <span class="n">has_attr_map</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
</span><span id="DocTable.__init__-161"><a href="#DocTable.__init__-161"><span class="linenos">161</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">DataclassSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="DocTable.__init__-162"><a href="#DocTable.__init__-162"><span class="linenos">162</span></a>                <span class="n">schema_class</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="DocTable.__init__-163"><a href="#DocTable.__init__-163"><span class="linenos">163</span></a>                <span class="n">indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">,</span> <span class="c1"># need these if we want to grab from constructor</span>
</span><span id="DocTable.__init__-164"><a href="#DocTable.__init__-164"><span class="linenos">164</span></a>                <span class="n">constraints</span> <span class="o">=</span> <span class="n">constraints</span><span class="p">,</span>
</span><span id="DocTable.__init__-165"><a href="#DocTable.__init__-165"><span class="linenos">165</span></a>            <span class="p">)</span>
</span><span id="DocTable.__init__-166"><a href="#DocTable.__init__-166"><span class="linenos">166</span></a>        <span class="k">elif</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
</span><span id="DocTable.__init__-167"><a href="#DocTable.__init__-167"><span class="linenos">167</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">StringSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span>
</span><span id="DocTable.__init__-168"><a href="#DocTable.__init__-168"><span class="linenos">168</span></a>                <span class="n">schema_list</span> <span class="o">=</span> <span class="n">schema</span><span class="p">,</span>
</span><span id="DocTable.__init__-169"><a href="#DocTable.__init__-169"><span class="linenos">169</span></a>                <span class="n">default_fpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_target</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">,</span>
</span><span id="DocTable.__init__-170"><a href="#DocTable.__init__-170"><span class="linenos">170</span></a>            <span class="p">)</span>
</span><span id="DocTable.__init__-171"><a href="#DocTable.__init__-171"><span class="linenos">171</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.__init__-172"><a href="#DocTable.__init__-172"><span class="linenos">172</span></a>            <span class="c1">#self._schema = None # inferred from existing table</span>
</span><span id="DocTable.__init__-173"><a href="#DocTable.__init__-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span> <span class="o">=</span> <span class="n">InferredSchema</span><span class="o">.</span><span class="n">from_schema_definition</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</span><span id="DocTable.__init__-174"><a href="#DocTable.__init__-174"><span class="linenos">174</span></a>
</span><span id="DocTable.__init__-175"><a href="#DocTable.__init__-175"><span class="linenos">175</span></a>        <span class="c1"># add this table</span>
</span><span id="DocTable.__init__-176"><a href="#DocTable.__init__-176"><span class="linenos">176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span>
</span><span id="DocTable.__init__-177"><a href="#DocTable.__init__-177"><span class="linenos">177</span></a>            <span class="n">tabname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">,</span> 
</span><span id="DocTable.__init__-178"><a href="#DocTable.__init__-178"><span class="linenos">178</span></a>            <span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> 
</span><span id="DocTable.__init__-179"><a href="#DocTable.__init__-179"><span class="linenos">179</span></a>            <span class="n">indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">indices</span><span class="p">,</span>
</span><span id="DocTable.__init__-180"><a href="#DocTable.__init__-180"><span class="linenos">180</span></a>            <span class="n">constraints</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema</span><span class="o">.</span><span class="n">constraints</span><span class="p">,</span>
</span><span id="DocTable.__init__-181"><a href="#DocTable.__init__-181"><span class="linenos">181</span></a>            <span class="n">new_table</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_new_table</span><span class="p">,</span>
</span><span id="DocTable.__init__-182"><a href="#DocTable.__init__-182"><span class="linenos">182</span></a>            <span class="n">allow_inconsistent_schema</span> <span class="o">=</span> <span class="n">allow_inconsistent_schema</span><span class="p">,</span>
</span><span id="DocTable.__init__-183"><a href="#DocTable.__init__-183"><span class="linenos">183</span></a>            <span class="n">create_indices</span> <span class="o">=</span> <span class="n">create_indices</span><span class="p">,</span>
</span><span id="DocTable.__init__-184"><a href="#DocTable.__init__-184"><span class="linenos">184</span></a>        <span class="p">)</span>
</span><span id="DocTable.__init__-185"><a href="#DocTable.__init__-185"><span class="linenos">185</span></a>        
</span><span id="DocTable.__init__-186"><a href="#DocTable.__init__-186"><span class="linenos">186</span></a>        <span class="c1"># create persistent connection to database if requested</span>
</span><span id="DocTable.__init__-187"><a href="#DocTable.__init__-187"><span class="linenos">187</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span> <span class="k">else</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Create new database.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>target (str):</strong>  filename for database to connect to. ":memory:" is a 
special value indicating to the python sqlite engine that the db
should be created in memory. Will create new empty database file
if it does not exist and new_db==True, and add a new table using
specified schema if new_table==True.</li>
<li><strong>tabname (str):</strong>  table name for this specific doctable.</li>
<li><strong>schema (type or list<list>):</strong>  schema from which to create db. Includes a
list of column names and types (including contraints and indexes) as tuples
defined according to information needed to construct the sqlalchemy
objects. Alternatively, can be a schema class (see docs).</li>
<li><strong>dialect (str):</strong>  database engine through which to construct db.
For more info, see sqlalchemy dialect info:
<a href="https://docs.sqlalchemy.org/en/13/dialects/">https://docs.sqlalchemy.org/en/13/dialects/</a></li>
<li><strong>engine (ConnectEngine):</strong>  engine from another doctable if working with different
tables in the same db.</li>
<li><strong>readonly (bool):</strong>  Prevents user from calling insert(), delete(), or 
update(). Will not block other sql possible commands.</li>
<li><strong>new_db (bool):</strong>  Indicate if new db file should be created given 
that a schema is provided and the db file doesn't exist.</li>
<li><strong>new_table (bool):</strong>  Allow doctable to create a new table if one 
doesn't exist already.</li>
<li><strong>persistent_conn (bool):</strong>  whether or not to create a persistent conn 
to database. Otherwise will create temporary connection for each
query.</li>
<li><strong>verbose (bool):</strong>  Print every sql command before executing.</li>
<li><strong>engine_kwargs (</strong>kwargs):**  Pass directly to the sqlalchemy
.create_engine() as connect_args. Args typically vary by dialect.
Example: connect_args={'timeout': 15} for sqlite
or connect_args={'connect_timeout': 15} for PostgreSQL.</li>
</ul>
</div>


                            </div>
                            <div id="DocTable.dialect" class="classattr">
                                <div class="attr variable">
            <span class="name">dialect</span>

        
    </div>
    <a class="headerlink" href="#DocTable.dialect"></a>
    
    

                            </div>
                            <div id="DocTable.verbose" class="classattr">
                                <div class="attr variable">
            <span class="name">verbose</span>

        
    </div>
    <a class="headerlink" href="#DocTable.verbose"></a>
    
    

                            </div>
                            <div id="DocTable.persistent_conn" class="classattr">
                                <div class="attr variable">
            <span class="name">persistent_conn</span>

        
    </div>
    <a class="headerlink" href="#DocTable.persistent_conn"></a>
    
    

                            </div>
                            <div id="DocTable.readonly" class="classattr">
                                <div class="attr variable">
            <span class="name">readonly</span>

        
    </div>
    <a class="headerlink" href="#DocTable.readonly"></a>
    
    

                            </div>
                            <div id="DocTable.close_conn" class="classattr">
                                        <input id="DocTable.close_conn-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close_conn</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="DocTable.close_conn-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.close_conn"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.close_conn-214"><a href="#DocTable.close_conn-214"><span class="linenos">214</span></a>    <span class="k">def</span> <span class="nf">close_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.close_conn-215"><a href="#DocTable.close_conn-215"><span class="linenos">215</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Closes connection to db (if one exists). &#39;&#39;&#39;</span>
</span><span id="DocTable.close_conn-216"><a href="#DocTable.close_conn-216"><span class="linenos">216</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.close_conn-217"><a href="#DocTable.close_conn-217"><span class="linenos">217</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="DocTable.close_conn-218"><a href="#DocTable.close_conn-218"><span class="linenos">218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Closes connection to db (if one exists).</p>
</div>


                            </div>
                            <div id="DocTable.open_conn" class="classattr">
                                        <input id="DocTable.open_conn-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open_conn</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="DocTable.open_conn-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.open_conn"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.open_conn-220"><a href="#DocTable.open_conn-220"><span class="linenos">220</span></a>    <span class="k">def</span> <span class="nf">open_conn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.open_conn-221"><a href="#DocTable.open_conn-221"><span class="linenos">221</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Opens connection to db (if one does not exist). &#39;&#39;&#39;</span>
</span><span id="DocTable.open_conn-222"><a href="#DocTable.open_conn-222"><span class="linenos">222</span></a>        
</span><span id="DocTable.open_conn-223"><a href="#DocTable.open_conn-223"><span class="linenos">223</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.open_conn-224"><a href="#DocTable.open_conn-224"><span class="linenos">224</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Opens connection to db (if one does not exist).</p>
</div>


                            </div>
                            <div id="DocTable.connect" class="classattr">
                                        <input id="DocTable.connect-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">connect</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">Connection</span>:</span></span>

                <label class="view-source-button" for="DocTable.connect-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.connect"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.connect-226"><a href="#DocTable.connect-226"><span class="linenos">226</span></a>    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">Connection</span><span class="p">:</span>
</span><span id="DocTable.connect-227"><a href="#DocTable.connect-227"><span class="linenos">227</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Returns a connection from the sqlalchemy engine.&#39;&#39;&#39;</span>
</span><span id="DocTable.connect-228"><a href="#DocTable.connect-228"><span class="linenos">228</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Returns a connection from the sqlalchemy engine.</p>
</div>


                            </div>
                            <div id="DocTable.reopen_engine" class="classattr">
                                        <input id="DocTable.reopen_engine-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reopen_engine</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">open_conn</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="DocTable.reopen_engine-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.reopen_engine"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.reopen_engine-230"><a href="#DocTable.reopen_engine-230"><span class="linenos">230</span></a>    <span class="k">def</span> <span class="nf">reopen_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">open_conn</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.reopen_engine-231"><a href="#DocTable.reopen_engine-231"><span class="linenos">231</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Opens connection engine. </span>
</span><span id="DocTable.reopen_engine-232"><a href="#DocTable.reopen_engine-232"><span class="linenos">232</span></a><span class="sd">        Args:</span>
</span><span id="DocTable.reopen_engine-233"><a href="#DocTable.reopen_engine-233"><span class="linenos">233</span></a><span class="sd">            open_conn (bool): create a new db connection.</span>
</span><span id="DocTable.reopen_engine-234"><a href="#DocTable.reopen_engine-234"><span class="linenos">234</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.reopen_engine-235"><a href="#DocTable.reopen_engine-235"><span class="linenos">235</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close_conn</span><span class="p">()</span>
</span><span id="DocTable.reopen_engine-236"><a href="#DocTable.reopen_engine-236"><span class="linenos">236</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">reopen</span><span class="p">()</span>
</span><span id="DocTable.reopen_engine-237"><a href="#DocTable.reopen_engine-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="n">open_conn</span> <span class="ow">or</span> <span class="p">(</span><span class="n">open_conn</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">persistent_conn</span><span class="p">):</span>
</span><span id="DocTable.reopen_engine-238"><a href="#DocTable.reopen_engine-238"><span class="linenos">238</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">open_conn</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Opens connection engine. </p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>open_conn (bool):</strong>  create a new db connection.</li>
</ul>
</div>


                            </div>
                            <div id="DocTable.col" class="classattr">
                                        <input id="DocTable.col-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">col</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span></span><span class="return-annotation">) -> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">Column</span>:</span></span>

                <label class="view-source-button" for="DocTable.col-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.col"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.col-253"><a href="#DocTable.col-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">col</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">:</span>
</span><span id="DocTable.col-254"><a href="#DocTable.col-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Accesses a column object.</span>
</span><span id="DocTable.col-255"><a href="#DocTable.col-255"><span class="linenos">255</span></a><span class="sd">        Args:</span>
</span><span id="DocTable.col-256"><a href="#DocTable.col-256"><span class="linenos">256</span></a><span class="sd">            Name of column to access. Applied as subscript to </span>
</span><span id="DocTable.col-257"><a href="#DocTable.col-257"><span class="linenos">257</span></a><span class="sd">                sqlalchemy columns object.</span>
</span><span id="DocTable.col-258"><a href="#DocTable.col-258"><span class="linenos">258</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.col-259"><a href="#DocTable.col-259"><span class="linenos">259</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">):</span>
</span><span id="DocTable.col-260"><a href="#DocTable.col-260"><span class="linenos">260</span></a>            <span class="k">return</span> <span class="n">name</span>
</span><span id="DocTable.col-261"><a href="#DocTable.col-261"><span class="linenos">261</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_table</span><span class="o">.</span><span class="n">c</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Accesses a column object.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li>Name of column to access. Applied as subscript to 
sqlalchemy columns object.</li>
</ul>
</div>


                            </div>
                            <div id="DocTable.table" class="classattr">
                                <div class="attr variable">
            <span class="name">table</span><span class="annotation">: sqlalchemy.sql.schema.Table</span>

        
    </div>
    <a class="headerlink" href="#DocTable.table"></a>
    
            <div class="docstring"><p>Returns underlying sqlalchemy table object for manual manipulation.</p>
</div>


                            </div>
                            <div id="DocTable.tabname" class="classattr">
                                <div class="attr variable">
            <span class="name">tabname</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#DocTable.tabname"></a>
    
            <div class="docstring"><p>Gets name of table for this connection.</p>
</div>


                            </div>
                            <div id="DocTable.columns" class="classattr">
                                <div class="attr variable">
            <span class="name">columns</span><span class="annotation">: &#39;sqlalchemy.sql.base.ImmutableColumnCollection&#39;</span>

        
    </div>
    <a class="headerlink" href="#DocTable.columns"></a>
    
            <div class="docstring"><p>Exposes SQLAlchemy core table columns object.</p>
</div>


                            </div>
                            <div id="DocTable.c" class="classattr">
                                <div class="attr variable">
            <span class="name">c</span><span class="annotation">: &#39;sqlalchemy.sql.base.ImmutableColumnCollection&#39;</span>

        
    </div>
    <a class="headerlink" href="#DocTable.c"></a>
    
            <div class="docstring"><p>Alias for self.columns.</p>
</div>


                            </div>
                            <div id="DocTable.engine" class="classattr">
                                <div class="attr variable">
            <span class="name">engine</span><span class="annotation">: <a href="connectengine.html#ConnectEngine">doctable.connectengine.ConnectEngine</a></span>

        
    </div>
    <a class="headerlink" href="#DocTable.engine"></a>
    
    

                            </div>
                            <div id="DocTable.schema" class="classattr">
                                <div class="attr variable">
            <span class="name">schema</span><span class="annotation">: <a href="schema/dataclassschema/dataclassschema.html#DataclassSchema">doctable.schema.dataclassschema.dataclassschema.DataclassSchema</a></span>

        
    </div>
    <a class="headerlink" href="#DocTable.schema"></a>
    
    

                            </div>
                            <div id="DocTable.list_tables" class="classattr">
                                        <input id="DocTable.list_tables-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">list_tables</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DocTable.list_tables-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.list_tables"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.list_tables-294"><a href="#DocTable.list_tables-294"><span class="linenos">294</span></a>    <span class="k">def</span> <span class="nf">list_tables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DocTable.list_tables-295"><a href="#DocTable.list_tables-295"><span class="linenos">295</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">list_tables</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="DocTable.colnames" class="classattr">
                                        <input id="DocTable.colnames-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">colnames</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DocTable.colnames-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.colnames"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.colnames-297"><a href="#DocTable.colnames-297"><span class="linenos">297</span></a>    <span class="k">def</span> <span class="nf">colnames</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DocTable.colnames-298"><a href="#DocTable.colnames-298"><span class="linenos">298</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</span></pre></div>


    

                            </div>
                            <div id="DocTable.primary_keys" class="classattr">
                                        <input id="DocTable.primary_keys-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">primary_keys</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="DocTable.primary_keys-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.primary_keys"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.primary_keys-300"><a href="#DocTable.primary_keys-300"><span class="linenos">300</span></a>    <span class="k">def</span> <span class="nf">primary_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="DocTable.primary_keys-301"><a href="#DocTable.primary_keys-301"><span class="linenos">301</span></a>        <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema_info</span><span class="p">()</span> <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="s1">&#39;primary_key&#39;</span><span class="p">]]</span>
</span></pre></div>


    

                            </div>
                            <div id="DocTable.schema_info" class="classattr">
                                        <input id="DocTable.schema_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">schema_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.schema_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.schema_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.schema_info-303"><a href="#DocTable.schema_info-303"><span class="linenos">303</span></a>    <span class="k">def</span> <span class="nf">schema_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DocTable.schema_info-304"><a href="#DocTable.schema_info-304"><span class="linenos">304</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Get info about each column as a dictionary.</span>
</span><span id="DocTable.schema_info-305"><a href="#DocTable.schema_info-305"><span class="linenos">305</span></a><span class="sd">        Returns:</span>
</span><span id="DocTable.schema_info-306"><a href="#DocTable.schema_info-306"><span class="linenos">306</span></a><span class="sd">            dict&lt;dict&gt;: info about each column.</span>
</span><span id="DocTable.schema_info-307"><a href="#DocTable.schema_info-307"><span class="linenos">307</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.schema_info-308"><a href="#DocTable.schema_info-308"><span class="linenos">308</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get info about each column as a dictionary.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>dict<dict>: info about each column.</p>
</blockquote>
</div>


                            </div>
                            <div id="DocTable.schema_table" class="classattr">
                                        <input id="DocTable.schema_table-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">schema_table</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="DocTable.schema_table-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.schema_table"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.schema_table-310"><a href="#DocTable.schema_table-310"><span class="linenos">310</span></a>    <span class="k">def</span> <span class="nf">schema_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="DocTable.schema_table-311"><a href="#DocTable.schema_table-311"><span class="linenos">311</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Get info about each column as a dictionary.</span>
</span><span id="DocTable.schema_table-312"><a href="#DocTable.schema_table-312"><span class="linenos">312</span></a><span class="sd">        Returns:</span>
</span><span id="DocTable.schema_table-313"><a href="#DocTable.schema_table-313"><span class="linenos">313</span></a><span class="sd">            DataFrame: info about each column.</span>
</span><span id="DocTable.schema_table-314"><a href="#DocTable.schema_table-314"><span class="linenos">314</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.schema_table-315"><a href="#DocTable.schema_table-315"><span class="linenos">315</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">schema_df</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get info about each column as a dictionary.</p>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DataFrame: info about each column.</p>
</blockquote>
</div>


                            </div>
                            <div id="DocTable.indices" class="classattr">
                                        <input id="DocTable.indices-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">indices</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>:</span></span>

                <label class="view-source-button" for="DocTable.indices-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.indices"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.indices-317"><a href="#DocTable.indices-317"><span class="linenos">317</span></a>    <span class="k">def</span> <span class="nf">indices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]:</span>
</span><span id="DocTable.indices-318"><a href="#DocTable.indices-318"><span class="linenos">318</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">inspector</span><span class="o">.</span><span class="n">get_indexes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tabname</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="DocTable.q" class="classattr">
                                <div class="attr variable">
            <span class="name">q</span><span class="annotation">: <a href="query/query.html#Query">doctable.query.query.Query</a></span>

        
    </div>
    <a class="headerlink" href="#DocTable.q"></a>
    
            <div class="docstring"><p>Gets a query object for this doctable.</p>
</div>


                            </div>
                            <div id="DocTable.execute" class="classattr">
                                        <input id="DocTable.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">query</span>,</span><span class="param">	<span class="o">*</span><span class="n">params</span>,</span><span class="param">	<span class="n">verbose</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">cursor</span><span class="o">.</span><span class="n">CursorResult</span>:</span></span>

                <label class="view-source-button" for="DocTable.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.execute-331"><a href="#DocTable.execute-331"><span class="linenos">331</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">ResultProxy</span><span class="p">:</span>
</span><span id="DocTable.execute-332"><a href="#DocTable.execute-332"><span class="linenos">332</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Execute an sql command. Called by most higher-level functions.</span>
</span><span id="DocTable.execute-333"><a href="#DocTable.execute-333"><span class="linenos">333</span></a><span class="sd">        Args:</span>
</span><span id="DocTable.execute-334"><a href="#DocTable.execute-334"><span class="linenos">334</span></a><span class="sd">            query (sqlalchemy condition or str): query to execute;</span>
</span><span id="DocTable.execute-335"><a href="#DocTable.execute-335"><span class="linenos">335</span></a><span class="sd">                can be provided as sqlalchemy condition object or</span>
</span><span id="DocTable.execute-336"><a href="#DocTable.execute-336"><span class="linenos">336</span></a><span class="sd">                plain sql text.</span>
</span><span id="DocTable.execute-337"><a href="#DocTable.execute-337"><span class="linenos">337</span></a><span class="sd">            verbose (bool or None): Print SQL command issued before</span>
</span><span id="DocTable.execute-338"><a href="#DocTable.execute-338"><span class="linenos">338</span></a><span class="sd">                execution.</span>
</span><span id="DocTable.execute-339"><a href="#DocTable.execute-339"><span class="linenos">339</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.execute-340"><a href="#DocTable.execute-340"><span class="linenos">340</span></a>        <span class="n">prstr</span> <span class="o">=</span> <span class="s1">&#39;DocTable: </span><span class="si">{}</span><span class="s1">&#39;</span>
</span><span id="DocTable.execute-341"><a href="#DocTable.execute-341"><span class="linenos">341</span></a>        <span class="k">if</span> <span class="n">verbose</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.execute-342"><a href="#DocTable.execute-342"><span class="linenos">342</span></a>            <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">prstr</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
</span><span id="DocTable.execute-343"><a href="#DocTable.execute-343"><span class="linenos">343</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">prstr</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">query</span><span class="p">))</span>
</span><span id="DocTable.execute-344"><a href="#DocTable.execute-344"><span class="linenos">344</span></a>        
</span><span id="DocTable.execute-345"><a href="#DocTable.execute-345"><span class="linenos">345</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Execute an sql command. Called by most higher-level functions.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>query (sqlalchemy condition or str):</strong>  query to execute;
can be provided as sqlalchemy condition object or
plain sql text.</li>
<li><strong>verbose (bool or None):</strong>  Print SQL command issued before
execution.</li>
</ul>
</div>


                            </div>
                            <div id="DocTable.insert" class="classattr">
                                        <input id="DocTable.insert-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">insert</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">rowdata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="schema/dataclassschema/doctableschema.html#DocTableSchema">doctable.schema.dataclassschema.doctableschema.DocTableSchema</a></span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n"><a href="schema/dataclassschema/doctableschema.html#DocTableSchema">doctable.schema.dataclassschema.doctableschema.DocTableSchema</a></span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.insert-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.insert"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.insert-377"><a href="#DocTable.insert-377"><span class="linenos">377</span></a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="DocTable.insert-378"><a href="#DocTable.insert-378"><span class="linenos">378</span></a>            <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]],</span>
</span><span id="DocTable.insert-379"><a href="#DocTable.insert-379"><span class="linenos">379</span></a>            <span class="o">*</span><span class="n">args</span><span class="p">,</span> 
</span><span id="DocTable.insert-380"><a href="#DocTable.insert-380"><span class="linenos">380</span></a>            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
</span><span id="DocTable.insert-381"><a href="#DocTable.insert-381"><span class="linenos">381</span></a>        <span class="p">):</span>
</span><span id="DocTable.insert-382"><a href="#DocTable.insert-382"><span class="linenos">382</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_single() or .q.insert_multi().&#39;&#39;&#39;</span>
</span><span id="DocTable.insert-383"><a href="#DocTable.insert-383"><span class="linenos">383</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .insert() is depricated. Please use .q.insert_single(), &#39;</span>
</span><span id="DocTable.insert-384"><a href="#DocTable.insert-384"><span class="linenos">384</span></a>            <span class="s1">&#39;.q.insert_single_raw(), .q.insert_multi(), or .q.insert_multi() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.insert-385"><a href="#DocTable.insert-385"><span class="linenos">385</span></a>        
</span><span id="DocTable.insert-386"><a href="#DocTable.insert-386"><span class="linenos">386</span></a>        <span class="k">if</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">rowdata</span><span class="p">):</span>
</span><span id="DocTable.insert-387"><a href="#DocTable.insert-387"><span class="linenos">387</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_many</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.insert-388"><a href="#DocTable.insert-388"><span class="linenos">388</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.insert-389"><a href="#DocTable.insert-389"><span class="linenos">389</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_single</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.insert_single() or .q.insert_multi().</p>
</div>


                            </div>
                            <div id="DocTable.insert_many" class="classattr">
                                        <input id="DocTable.insert_many-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">insert_many</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">rowdata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n"><a href="schema/dataclassschema/doctableschema.html#DocTableSchema">doctable.schema.dataclassschema.doctableschema.DocTableSchema</a></span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.insert_many-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.insert_many"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.insert_many-391"><a href="#DocTable.insert_many-391"><span class="linenos">391</span></a>    <span class="k">def</span> <span class="nf">insert_many</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> 
</span><span id="DocTable.insert_many-392"><a href="#DocTable.insert_many-392"><span class="linenos">392</span></a>            <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">],</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]]],</span>
</span><span id="DocTable.insert_many-393"><a href="#DocTable.insert_many-393"><span class="linenos">393</span></a>            <span class="o">*</span><span class="n">args</span><span class="p">,</span> 
</span><span id="DocTable.insert_many-394"><a href="#DocTable.insert_many-394"><span class="linenos">394</span></a>            <span class="o">**</span><span class="n">kwargs</span>
</span><span id="DocTable.insert_many-395"><a href="#DocTable.insert_many-395"><span class="linenos">395</span></a>        <span class="p">):</span>
</span><span id="DocTable.insert_many-396"><a href="#DocTable.insert_many-396"><span class="linenos">396</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_multi(), .q.insert_multi_raw()&#39;&#39;&#39;</span>
</span><span id="DocTable.insert_many-397"><a href="#DocTable.insert_many-397"><span class="linenos">397</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.insert_many() is depricated: please use .q.insert_multi() or &#39;</span>
</span><span id="DocTable.insert_many-398"><a href="#DocTable.insert_many-398"><span class="linenos">398</span></a>            <span class="s1">&#39;.q.insert_multi_raw()&#39;</span><span class="p">)</span>
</span><span id="DocTable.insert_many-399"><a href="#DocTable.insert_many-399"><span class="linenos">399</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">rowdata</span><span class="p">):</span>
</span><span id="DocTable.insert_many-400"><a href="#DocTable.insert_many-400"><span class="linenos">400</span></a>            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;insert_many needs a list or tuple of schema objects.&#39;</span><span class="p">)</span>
</span><span id="DocTable.insert_many-401"><a href="#DocTable.insert_many-401"><span class="linenos">401</span></a>        
</span><span id="DocTable.insert_many-402"><a href="#DocTable.insert_many-402"><span class="linenos">402</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rowdata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rowdata</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="DocTable.insert_many-403"><a href="#DocTable.insert_many-403"><span class="linenos">403</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_multi_raw</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.insert_many-404"><a href="#DocTable.insert_many-404"><span class="linenos">404</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.insert_many-405"><a href="#DocTable.insert_many-405"><span class="linenos">405</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_multi</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.insert_multi(), .q.insert_multi_raw()</p>
</div>


                            </div>
                            <div id="DocTable.insert_single" class="classattr">
                                        <input id="DocTable.insert_single-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">insert_single</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">rowdata</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="schema/dataclassschema/doctableschema.html#DocTableSchema">doctable.schema.dataclassschema.doctableschema.DocTableSchema</a></span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>,</span><span class="param">	<span class="o">*</span><span class="n">args</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.insert_single-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.insert_single"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.insert_single-407"><a href="#DocTable.insert_single-407"><span class="linenos">407</span></a>    <span class="k">def</span> <span class="nf">insert_single</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rowdata</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="n">DocTableSchema</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.insert_single-408"><a href="#DocTable.insert_single-408"><span class="linenos">408</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.insert_single(), .q.insert_single_raw().&#39;&#39;&#39;</span>
</span><span id="DocTable.insert_single-409"><a href="#DocTable.insert_single-409"><span class="linenos">409</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.insert_single() is depricated: please use .q.insert_single() or &#39;</span>
</span><span id="DocTable.insert_single-410"><a href="#DocTable.insert_single-410"><span class="linenos">410</span></a>            <span class="s1">&#39;.q.insert_single_raw()&#39;</span><span class="p">)</span>
</span><span id="DocTable.insert_single-411"><a href="#DocTable.insert_single-411"><span class="linenos">411</span></a>        
</span><span id="DocTable.insert_single-412"><a href="#DocTable.insert_single-412"><span class="linenos">412</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="DocTable.insert_single-413"><a href="#DocTable.insert_single-413"><span class="linenos">413</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_single_raw</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.insert_single-414"><a href="#DocTable.insert_single-414"><span class="linenos">414</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.insert_single-415"><a href="#DocTable.insert_single-415"><span class="linenos">415</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">insert_single</span><span class="p">(</span><span class="n">rowdata</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.insert_single(), .q.insert_single_raw().</p>
</div>


                            </div>
                            <div id="DocTable.count" class="classattr">
                                        <input id="DocTable.count-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">count</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.count-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.count"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.count-419"><a href="#DocTable.count-419"><span class="linenos">419</span></a>    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.count-420"><a href="#DocTable.count-420"><span class="linenos">420</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.count(), Query.count().&#39;&#39;&#39;</span>
</span><span id="DocTable.count-421"><a href="#DocTable.count-421"><span class="linenos">421</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .count() is depricated. Please use .q.count() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.count-422"><a href="#DocTable.count-422"><span class="linenos">422</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.count(), Query.count().</p>
</div>


                            </div>
                            <div id="DocTable.head" class="classattr">
                                        <input id="DocTable.head-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">head</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.head-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.head"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.head-424"><a href="#DocTable.head-424"><span class="linenos">424</span></a>    <span class="k">def</span> <span class="nf">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.head-425"><a href="#DocTable.head-425"><span class="linenos">425</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_head(), Query.select_head().&#39;&#39;&#39;</span>
</span><span id="DocTable.head-426"><a href="#DocTable.head-426"><span class="linenos">426</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .head() is depricated. Please use .q.select_head() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.head-427"><a href="#DocTable.head-427"><span class="linenos">427</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.head-428"><a href="#DocTable.head-428"><span class="linenos">428</span></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">]</span>
</span><span id="DocTable.head-429"><a href="#DocTable.head-429"><span class="linenos">429</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_head</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.select_head(), Query.select_head().</p>
</div>


                            </div>
                            <div id="DocTable.select_series" class="classattr">
                                        <input id="DocTable.select_series-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_series</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">col</span><span class="p">:</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">Column</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.select_series-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.select_series"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.select_series-431"><a href="#DocTable.select_series-431"><span class="linenos">431</span></a>    <span class="k">def</span> <span class="nf">select_series</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">:</span> <span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.select_series-432"><a href="#DocTable.select_series-432"><span class="linenos">432</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_series(), Query.select_series().&#39;&#39;&#39;</span>
</span><span id="DocTable.select_series-433"><a href="#DocTable.select_series-433"><span class="linenos">433</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_series() is depricated. Please use .q.select_series() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.select_series-434"><a href="#DocTable.select_series-434"><span class="linenos">434</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_series</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.select_series(), Query.select_series().</p>
</div>


                            </div>
                            <div id="DocTable.select_df" class="classattr">
                                        <input id="DocTable.select_df-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_df</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.select_df-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.select_df"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.select_df-436"><a href="#DocTable.select_df-436"><span class="linenos">436</span></a>    <span class="k">def</span> <span class="nf">select_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.select_df-437"><a href="#DocTable.select_df-437"><span class="linenos">437</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_df(), Query.select_df().&#39;&#39;&#39;</span>
</span><span id="DocTable.select_df-438"><a href="#DocTable.select_df-438"><span class="linenos">438</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_df() is depricated. Please use .q.select_df() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.select_df-439"><a href="#DocTable.select_df-439"><span class="linenos">439</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.select_df-440"><a href="#DocTable.select_df-440"><span class="linenos">440</span></a>            <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">cols</span><span class="p">]</span>
</span><span id="DocTable.select_df-441"><a href="#DocTable.select_df-441"><span class="linenos">441</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_df</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.select_df(), Query.select_df().</p>
</div>


                            </div>
                            <div id="DocTable.select_first" class="classattr">
                                        <input id="DocTable.select_first-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_first</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.select_first-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.select_first"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.select_first-443"><a href="#DocTable.select_first-443"><span class="linenos">443</span></a>    <span class="k">def</span> <span class="nf">select_first</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.select_first-444"><a href="#DocTable.select_first-444"><span class="linenos">444</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_first(), Query.select_first().&#39;&#39;&#39;</span>
</span><span id="DocTable.select_first-445"><a href="#DocTable.select_first-445"><span class="linenos">445</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select_first() is depricated. Please use .q.select_first() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.select_first-446"><a href="#DocTable.select_first-446"><span class="linenos">446</span></a>        <span class="k">if</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.select_first-447"><a href="#DocTable.select_first-447"><span class="linenos">447</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The &quot;as_dataclass&quot; parameter has been depricated: please set get_raw=True or &#39;</span>
</span><span id="DocTable.select_first-448"><a href="#DocTable.select_first-448"><span class="linenos">448</span></a>                <span class="s1">&#39;select_raw to specify that you would like to retrieve a raw RowProxy pobject.&#39;</span><span class="p">)</span>
</span><span id="DocTable.select_first-449"><a href="#DocTable.select_first-449"><span class="linenos">449</span></a>        
</span><span id="DocTable.select_first-450"><a href="#DocTable.select_first-450"><span class="linenos">450</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.select_first-451"><a href="#DocTable.select_first-451"><span class="linenos">451</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_scalar</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.select_first-452"><a href="#DocTable.select_first-452"><span class="linenos">452</span></a>            
</span><span id="DocTable.select_first-453"><a href="#DocTable.select_first-453"><span class="linenos">453</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.select_first-454"><a href="#DocTable.select_first-454"><span class="linenos">454</span></a>
</span><span id="DocTable.select_first-455"><a href="#DocTable.select_first-455"><span class="linenos">455</span></a>            <span class="c1"># determine to get result as a dataclass or not</span>
</span><span id="DocTable.select_first-456"><a href="#DocTable.select_first-456"><span class="linenos">456</span></a>            <span class="n">raw_result</span> <span class="o">=</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">as_dataclass</span>
</span><span id="DocTable.select_first-457"><a href="#DocTable.select_first-457"><span class="linenos">457</span></a>            
</span><span id="DocTable.select_first-458"><a href="#DocTable.select_first-458"><span class="linenos">458</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="DocTable.select_first-459"><a href="#DocTable.select_first-459"><span class="linenos">459</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_first</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">raw_result</span><span class="o">=</span><span class="n">raw_result</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.select_first-460"><a href="#DocTable.select_first-460"><span class="linenos">460</span></a>            <span class="k">except</span> <span class="n">RowToObjectConversionFailedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DocTable.select_first-461"><a href="#DocTable.select_first-461"><span class="linenos">461</span></a>                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Conversion from row to object failed according to the following &#39;</span>
</span><span id="DocTable.select_first-462"><a href="#DocTable.select_first-462"><span class="linenos">462</span></a>                    <span class="sa">f</span><span class="s1">&#39;error. Please use .q.select_first(..,raw_result=True) next time &#39;</span>
</span><span id="DocTable.select_first-463"><a href="#DocTable.select_first-463"><span class="linenos">463</span></a>                    <span class="sa">f</span><span class="s1">&#39;in the future to avoid this issue. </span><span class="si">{</span><span class="n">e</span><span class="si">=}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="DocTable.select_first-464"><a href="#DocTable.select_first-464"><span class="linenos">464</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_first</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="n">raw_result</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.select_first(), Query.select_first().</p>
</div>


                            </div>
                            <div id="DocTable.select" class="classattr">
                                        <input id="DocTable.select-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">sql</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.select-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.select"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.select-468"><a href="#DocTable.select-468"><span class="linenos">468</span></a>    <span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cols</span><span class="p">:</span> <span class="n">typing</span><span class="o">.</span><span class="n">List</span><span class="p">[</span><span class="n">sqlalchemy</span><span class="o">.</span><span class="n">Column</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">as_dataclass</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.select-469"><a href="#DocTable.select-469"><span class="linenos">469</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select(), Query.select().&#39;&#39;&#39;</span>
</span><span id="DocTable.select-470"><a href="#DocTable.select-470"><span class="linenos">470</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .select() is depricated. Please use .q.select() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.select-471"><a href="#DocTable.select-471"><span class="linenos">471</span></a>        <span class="k">if</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.select-472"><a href="#DocTable.select-472"><span class="linenos">472</span></a>            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The &quot;as_dataclass&quot; parameter has been depricated: please set get_raw=True or &#39;</span>
</span><span id="DocTable.select-473"><a href="#DocTable.select-473"><span class="linenos">473</span></a>                <span class="s1">&#39;select_raw to specify that you would like to retrieve a raw RowProxy pobject.&#39;</span><span class="p">)</span>
</span><span id="DocTable.select-474"><a href="#DocTable.select-474"><span class="linenos">474</span></a>        
</span><span id="DocTable.select-475"><a href="#DocTable.select-475"><span class="linenos">475</span></a>        <span class="n">raw_result</span> <span class="o">=</span> <span class="n">as_dataclass</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">as_dataclass</span>
</span><span id="DocTable.select-476"><a href="#DocTable.select-476"><span class="linenos">476</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_sequence</span><span class="p">(</span><span class="n">cols</span><span class="p">)</span> <span class="ow">and</span> <span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DocTable.select-477"><a href="#DocTable.select-477"><span class="linenos">477</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_col</span><span class="p">(</span><span class="n">col</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.select-478"><a href="#DocTable.select-478"><span class="linenos">478</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.select-479"><a href="#DocTable.select-479"><span class="linenos">479</span></a>            <span class="k">if</span> <span class="n">raw_result</span><span class="p">:</span>
</span><span id="DocTable.select-480"><a href="#DocTable.select-480"><span class="linenos">480</span></a>                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_raw</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.select-481"><a href="#DocTable.select-481"><span class="linenos">481</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DocTable.select-482"><a href="#DocTable.select-482"><span class="linenos">482</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="DocTable.select-483"><a href="#DocTable.select-483"><span class="linenos">483</span></a>                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.select-484"><a href="#DocTable.select-484"><span class="linenos">484</span></a>                <span class="k">except</span> <span class="n">RowToObjectConversionFailedError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DocTable.select-485"><a href="#DocTable.select-485"><span class="linenos">485</span></a>                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Conversion from row to object failed according to the following &#39;</span>
</span><span id="DocTable.select-486"><a href="#DocTable.select-486"><span class="linenos">486</span></a>                        <span class="sa">f</span><span class="s1">&#39;error. Please use .q.select_raw() when requesting non-object formatted &#39;</span>
</span><span id="DocTable.select-487"><a href="#DocTable.select-487"><span class="linenos">487</span></a>                        <span class="sa">f</span><span class="s1">&#39;data such as counts or sums in the future. For now it is automatically &#39;</span>
</span><span id="DocTable.select-488"><a href="#DocTable.select-488"><span class="linenos">488</span></a>                        <span class="sa">f</span><span class="s1">&#39;converted. </span><span class="si">{</span><span class="n">e</span><span class="si">=}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="DocTable.select-489"><a href="#DocTable.select-489"><span class="linenos">489</span></a>                    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_raw</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.select(), Query.select().</p>
</div>


                            </div>
                            <div id="DocTable.join" class="classattr">
                                        <input id="DocTable.join-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">join</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">other</span><span class="p">:</span> <span class="n"><a href="#DocTable">DocTable</a></span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.join-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.join"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.join-492"><a href="#DocTable.join-492"><span class="linenos">492</span></a>    <span class="k">def</span> <span class="nf">join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">DocTable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.join-493"><a href="#DocTable.join-493"><span class="linenos">493</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Wrapper over table.join(), can pass to from_obj parameter for .select()</span>
</span><span id="DocTable.join-494"><a href="#DocTable.join-494"><span class="linenos">494</span></a><span class="sd">        Args:</span>
</span><span id="DocTable.join-495"><a href="#DocTable.join-495"><span class="linenos">495</span></a><span class="sd">            other (DocTable): other doctable to join</span>
</span><span id="DocTable.join-496"><a href="#DocTable.join-496"><span class="linenos">496</span></a><span class="sd">            *args, **kwargs: passed to table.join() method</span>
</span><span id="DocTable.join-497"><a href="#DocTable.join-497"><span class="linenos">497</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.join-498"><a href="#DocTable.join-498"><span class="linenos">498</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_table</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Wrapper over table.join(), can pass to from_obj parameter for .select()</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>other (DocTable):</strong>  other doctable to join</li>
<li><strong><em>args, *</em>kwargs:</strong>  passed to table.join() method</li>
</ul>
</div>


                            </div>
                            <div id="DocTable.select_chunks" class="classattr">
                                        <input id="DocTable.select_chunks-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_chunks</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.select_chunks-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.select_chunks"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.select_chunks-503"><a href="#DocTable.select_chunks-503"><span class="linenos">503</span></a>    <span class="k">def</span> <span class="nf">select_chunks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.select_chunks-504"><a href="#DocTable.select_chunks-504"><span class="linenos">504</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated: see docs for .q.select_chunks()&#39;&#39;&#39;</span>
</span><span id="DocTable.select_chunks-505"><a href="#DocTable.select_chunks-505"><span class="linenos">505</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_chunks</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated: see docs for .q.select_chunks()</p>
</div>


                            </div>
                            <div id="DocTable.select_iter" class="classattr">
                                        <input id="DocTable.select_iter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">select_iter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.select_iter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.select_iter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.select_iter-507"><a href="#DocTable.select_iter-507"><span class="linenos">507</span></a>    <span class="k">def</span> <span class="nf">select_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.select_iter-508"><a href="#DocTable.select_iter-508"><span class="linenos">508</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.select_iter.&#39;&#39;&#39;</span>
</span><span id="DocTable.select_iter-509"><a href="#DocTable.select_iter-509"><span class="linenos">509</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.select_iter() is depricated. Please use .q.select_iter()&#39;</span><span class="p">)</span>
</span><span id="DocTable.select_iter-510"><a href="#DocTable.select_iter-510"><span class="linenos">510</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">select_iter</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.select_iter.</p>
</div>


                            </div>
                            <div id="DocTable.get_queueinserter" class="classattr">
                                        <input id="DocTable.get_queueinserter-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_queueinserter</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.get_queueinserter-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.get_queueinserter"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.get_queueinserter-512"><a href="#DocTable.get_queueinserter-512"><span class="linenos">512</span></a>    <span class="k">def</span> <span class="nf">get_queueinserter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.get_queueinserter-513"><a href="#DocTable.get_queueinserter-513"><span class="linenos">513</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39; Get an object that will queue rows for insertion.</span>
</span><span id="DocTable.get_queueinserter-514"><a href="#DocTable.get_queueinserter-514"><span class="linenos">514</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.get_queueinserter-515"><a href="#DocTable.get_queueinserter-515"><span class="linenos">515</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;.get_queueinserter() has been depricated entirely. please&#39;</span>
</span><span id="DocTable.get_queueinserter-516"><a href="#DocTable.get_queueinserter-516"><span class="linenos">516</span></a>            <span class="s1">&#39;avoid using it.&#39;</span><span class="p">)</span>
</span><span id="DocTable.get_queueinserter-517"><a href="#DocTable.get_queueinserter-517"><span class="linenos">517</span></a>        <span class="k">return</span> <span class="n">QueueInserter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get an object that will queue rows for insertion.</p>
</div>


                            </div>
                            <div id="DocTable.update" class="classattr">
                                        <input id="DocTable.update-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.update-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.update"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.update-520"><a href="#DocTable.update-520"><span class="linenos">520</span></a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.update-521"><a href="#DocTable.update-521"><span class="linenos">521</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.update(), Query.update().&#39;&#39;&#39;</span>
</span><span id="DocTable.update-522"><a href="#DocTable.update-522"><span class="linenos">522</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .update() is depricated. Please use .q.update() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.update-523"><a href="#DocTable.update-523"><span class="linenos">523</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.update(), Query.update().</p>
</div>


                            </div>
                            <div id="DocTable.delete" class="classattr">
                                        <input id="DocTable.delete-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">delete</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="n">delete_all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.delete-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.delete"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.delete-525"><a href="#DocTable.delete-525"><span class="linenos">525</span></a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">delete_all</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.delete-526"><a href="#DocTable.delete-526"><span class="linenos">526</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Depricated. See docs for .q.delete(), Query.delete().&#39;&#39;&#39;</span>
</span><span id="DocTable.delete-527"><a href="#DocTable.delete-527"><span class="linenos">527</span></a>        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s1">&#39;Method .delete() is depricated. Please use .q.delete() instead.&#39;</span><span class="p">)</span>
</span><span id="DocTable.delete-528"><a href="#DocTable.delete-528"><span class="linenos">528</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">q</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">delete_all</span><span class="o">=</span><span class="n">delete_all</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Depricated. See docs for .q.delete(), Query.delete().</p>
</div>


                            </div>
                            <div id="DocTable.bootstrap" class="classattr">
                                        <input id="DocTable.bootstrap-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">bootstrap</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span>, </span><span class="param"><span class="n">n</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.bootstrap-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.bootstrap"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.bootstrap-533"><a href="#DocTable.bootstrap-533"><span class="linenos">533</span></a>    <span class="k">def</span> <span class="nf">bootstrap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="DocTable.bootstrap-534"><a href="#DocTable.bootstrap-534"><span class="linenos">534</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Generates a DocBootstrapper object to sample from.</span>
</span><span id="DocTable.bootstrap-535"><a href="#DocTable.bootstrap-535"><span class="linenos">535</span></a><span class="sd">        Notes:</span>
</span><span id="DocTable.bootstrap-536"><a href="#DocTable.bootstrap-536"><span class="linenos">536</span></a><span class="sd">            The DocBootstrap object keeps all selected docs in</span>
</span><span id="DocTable.bootstrap-537"><a href="#DocTable.bootstrap-537"><span class="linenos">537</span></a><span class="sd">                memory, and yields samples with .sample().</span>
</span><span id="DocTable.bootstrap-538"><a href="#DocTable.bootstrap-538"><span class="linenos">538</span></a><span class="sd">        Args:</span>
</span><span id="DocTable.bootstrap-539"><a href="#DocTable.bootstrap-539"><span class="linenos">539</span></a><span class="sd">            *args: passed to .select()</span>
</span><span id="DocTable.bootstrap-540"><a href="#DocTable.bootstrap-540"><span class="linenos">540</span></a><span class="sd">            n (int): number of samples to bs. If left unset, can</span>
</span><span id="DocTable.bootstrap-541"><a href="#DocTable.bootstrap-541"><span class="linenos">541</span></a><span class="sd">                specify when drawing sample from DocBootstrap obj.</span>
</span><span id="DocTable.bootstrap-542"><a href="#DocTable.bootstrap-542"><span class="linenos">542</span></a><span class="sd">            **kwargs: passed to .select()</span>
</span><span id="DocTable.bootstrap-543"><a href="#DocTable.bootstrap-543"><span class="linenos">543</span></a><span class="sd">        Returns:</span>
</span><span id="DocTable.bootstrap-544"><a href="#DocTable.bootstrap-544"><span class="linenos">544</span></a><span class="sd">            DocBootstrap object for bootstrapping.</span>
</span><span id="DocTable.bootstrap-545"><a href="#DocTable.bootstrap-545"><span class="linenos">545</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.bootstrap-546"><a href="#DocTable.bootstrap-546"><span class="linenos">546</span></a>        <span class="n">docs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DocTable.bootstrap-547"><a href="#DocTable.bootstrap-547"><span class="linenos">547</span></a>        <span class="k">return</span> <span class="n">DocBootstrap</span><span class="p">(</span><span class="n">docs</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Generates a DocBootstrapper object to sample from.</p>

<h6 id="notes">Notes:</h6>

<blockquote>
  <p>The DocBootstrap object keeps all selected docs in
      memory, and yields samples with .sample().</p>
</blockquote>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>*args:</strong>  passed to .select()</li>
<li><strong>n (int):</strong>  number of samples to bs. If left unset, can
specify when drawing sample from DocBootstrap obj.</li>
<li><strong>**kwargs:</strong>  passed to .select()</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>DocBootstrap object for bootstrapping.</p>
</blockquote>
</div>


                            </div>
                            <div id="DocTable.clean_col_files" class="classattr">
                                        <input id="DocTable.clean_col_files-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">clean_col_files</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">col</span>, </span><span class="param"><span class="n">check_missing</span><span class="o">=</span><span class="kc">True</span>, </span><span class="param"><span class="n">delete_extraneous</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DocTable.clean_col_files-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DocTable.clean_col_files"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DocTable.clean_col_files-554"><a href="#DocTable.clean_col_files-554"><span class="linenos">554</span></a>    <span class="k">def</span> <span class="nf">clean_col_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">check_missing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_extraneous</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="DocTable.clean_col_files-555"><a href="#DocTable.clean_col_files-555"><span class="linenos">555</span></a><span class="w">        </span><span class="sd">&#39;&#39;&#39;Make sure there is a 1-1 mapping between files listed in db and files in folder.</span>
</span><span id="DocTable.clean_col_files-556"><a href="#DocTable.clean_col_files-556"><span class="linenos">556</span></a><span class="sd">        Args:</span>
</span><span id="DocTable.clean_col_files-557"><a href="#DocTable.clean_col_files-557"><span class="linenos">557</span></a><span class="sd">            col (str or Column object): column to clean picklefiles for.</span>
</span><span id="DocTable.clean_col_files-558"><a href="#DocTable.clean_col_files-558"><span class="linenos">558</span></a><span class="sd">            ignore_missing (bool): if False, throw an error when a db file doesn&#39;t exist.</span>
</span><span id="DocTable.clean_col_files-559"><a href="#DocTable.clean_col_files-559"><span class="linenos">559</span></a><span class="sd">        &#39;&#39;&#39;</span>
</span><span id="DocTable.clean_col_files-560"><a href="#DocTable.clean_col_files-560"><span class="linenos">560</span></a>        <span class="n">col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</span><span id="DocTable.clean_col_files-561"><a href="#DocTable.clean_col_files-561"><span class="linenos">561</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">FileTypeBase</span><span class="p">):</span>
</span><span id="DocTable.clean_col_files-562"><a href="#DocTable.clean_col_files-562"><span class="linenos">562</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1"> is not a file type; only call clean_col_files for a file column types.&#39;</span><span class="p">)</span>
</span><span id="DocTable.clean_col_files-563"><a href="#DocTable.clean_col_files-563"><span class="linenos">563</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">check_missing</span> <span class="ow">or</span> <span class="n">delete_extraneous</span><span class="p">):</span>
</span><span id="DocTable.clean_col_files-564"><a href="#DocTable.clean_col_files-564"><span class="linenos">564</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Either check_missing or delete_extraneous should be set to true, &#39;</span>
</span><span id="DocTable.clean_col_files-565"><a href="#DocTable.clean_col_files-565"><span class="linenos">565</span></a>                             <span class="s1">&#39;or else this method does nothing.&#39;</span><span class="p">)</span>
</span><span id="DocTable.clean_col_files-566"><a href="#DocTable.clean_col_files-566"><span class="linenos">566</span></a>        
</span><span id="DocTable.clean_col_files-567"><a href="#DocTable.clean_col_files-567"><span class="linenos">567</span></a>        <span class="c1"># get column filenames</span>
</span><span id="DocTable.clean_col_files-568"><a href="#DocTable.clean_col_files-568"><span class="linenos">568</span></a>        <span class="k">with</span> <span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">control</span><span class="p">:</span>
</span><span id="DocTable.clean_col_files-569"><a href="#DocTable.clean_col_files-569"><span class="linenos">569</span></a>            <span class="n">db_fnames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">where</span><span class="o">=</span><span class="n">col</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">))</span>
</span><span id="DocTable.clean_col_files-570"><a href="#DocTable.clean_col_files-570"><span class="linenos">570</span></a>        
</span><span id="DocTable.clean_col_files-571"><a href="#DocTable.clean_col_files-571"><span class="linenos">571</span></a>        <span class="c1"># get existing files from filesystem</span>
</span><span id="DocTable.clean_col_files-572"><a href="#DocTable.clean_col_files-572"><span class="linenos">572</span></a>        <span class="n">fpath</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">path</span><span class="si">}</span><span class="s1">/*</span><span class="si">{</span><span class="n">col</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">file_ext</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="DocTable.clean_col_files-573"><a href="#DocTable.clean_col_files-573"><span class="linenos">573</span></a>        <span class="n">exist_fnames</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">glob</span><span class="p">(</span><span class="n">fpath</span><span class="p">))</span>
</span><span id="DocTable.clean_col_files-574"><a href="#DocTable.clean_col_files-574"><span class="linenos">574</span></a>        <span class="n">intersect</span> <span class="o">=</span> <span class="n">db_fnames</span> <span class="o">&amp;</span> <span class="n">exist_fnames</span>
</span><span id="DocTable.clean_col_files-575"><a href="#DocTable.clean_col_files-575"><span class="linenos">575</span></a>        <span class="c1">#print(db_fnames, exist_fnames)</span>
</span><span id="DocTable.clean_col_files-576"><a href="#DocTable.clean_col_files-576"><span class="linenos">576</span></a>        
</span><span id="DocTable.clean_col_files-577"><a href="#DocTable.clean_col_files-577"><span class="linenos">577</span></a>        <span class="c1"># remove files not listed in db</span>
</span><span id="DocTable.clean_col_files-578"><a href="#DocTable.clean_col_files-578"><span class="linenos">578</span></a>        <span class="n">extraneous_fnames</span> <span class="o">=</span> <span class="n">exist_fnames</span> <span class="o">-</span> <span class="n">intersect</span>
</span><span id="DocTable.clean_col_files-579"><a href="#DocTable.clean_col_files-579"><span class="linenos">579</span></a>        <span class="k">if</span> <span class="n">delete_extraneous</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">extraneous_fnames</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DocTable.clean_col_files-580"><a href="#DocTable.clean_col_files-580"><span class="linenos">580</span></a>            <span class="k">for</span> <span class="n">rm_fname</span> <span class="ow">in</span> <span class="n">extraneous_fnames</span><span class="p">:</span>
</span><span id="DocTable.clean_col_files-581"><a href="#DocTable.clean_col_files-581"><span class="linenos">581</span></a>                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">rm_fname</span><span class="p">)</span>
</span><span id="DocTable.clean_col_files-582"><a href="#DocTable.clean_col_files-582"><span class="linenos">582</span></a>        
</span><span id="DocTable.clean_col_files-583"><a href="#DocTable.clean_col_files-583"><span class="linenos">583</span></a>        <span class="c1"># throw error if filesystem is missing some files</span>
</span><span id="DocTable.clean_col_files-584"><a href="#DocTable.clean_col_files-584"><span class="linenos">584</span></a>        <span class="n">miss_fnames</span> <span class="o">=</span> <span class="n">db_fnames</span><span class="o">-</span><span class="n">intersect</span>
</span><span id="DocTable.clean_col_files-585"><a href="#DocTable.clean_col_files-585"><span class="linenos">585</span></a>        <span class="k">if</span> <span class="n">check_missing</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">miss_fnames</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="DocTable.clean_col_files-586"><a href="#DocTable.clean_col_files-586"><span class="linenos">586</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="s1">&#39;These files were not found while cleaning: </span><span class="si">{}</span><span class="s1">&#39;</span>
</span><span id="DocTable.clean_col_files-587"><a href="#DocTable.clean_col_files-587"><span class="linenos">587</span></a>                <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">miss_fnames</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Make sure there is a 1-1 mapping between files listed in db and files in folder.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>col (str or Column object):</strong>  column to clean picklefiles for.</li>
<li><strong>ignore_missing (bool):</strong>  if False, throw an error when a db file doesn't exist.</li>
</ul>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>