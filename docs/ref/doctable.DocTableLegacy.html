<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: class DocTableLegacy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><strong>doctable.DocTableLegacy</strong> = <a name="doctable.DocTableLegacy">class DocTableLegacy</a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>doctable.DocTableLegacy(colschema=None,&nbsp;fname='doctable.db',&nbsp;tabname='documents',&nbsp;constraints=(),&nbsp;verbose=False,&nbsp;persistent_conn=True,&nbsp;make_new_db=True,&nbsp;check_schema=True)<br>
&nbsp;<br>
This&nbsp;is&nbsp;a&nbsp;base&nbsp;class&nbsp;for&nbsp;working&nbsp;with&nbsp;text&nbsp;documents.&nbsp;<br>
It&nbsp;is&nbsp;to&nbsp;be&nbsp;inhereted&nbsp;by&nbsp;a&nbsp;class&nbsp;actually&nbsp;defining&nbsp;the&nbsp;table&nbsp;schema&nbsp;for&nbsp;documents.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="DocTableLegacy-__del__"><strong>__del__</strong></a>(self)</dt><dd><tt>Closes&nbsp;connection&nbsp;upon&nbsp;deletion.</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-__init__"><strong>__init__</strong></a>(self, colschema=None, fname='doctable.db', tabname='documents', constraints=(), verbose=False, persistent_conn=True, make_new_db=True, check_schema=True)</dt><dd><tt>Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;fname&nbsp;(str):&nbsp;filename&nbsp;of&nbsp;database<br>
&nbsp;&nbsp;&nbsp;&nbsp;tabname&nbsp;(str):&nbsp;name&nbsp;of&nbsp;sqlite&nbsp;table&nbsp;to&nbsp;manipulate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;colschema&nbsp;(tuple&nbsp;of&nbsp;2-tuples):&nbsp;list&nbsp;of&nbsp;colname,&nbsp;coltype&nbsp;columns<br>
&nbsp;&nbsp;&nbsp;&nbsp;constraints&nbsp;(tuple&nbsp;of&nbsp;str):&nbsp;constraints&nbsp;to&nbsp;put&nbsp;on&nbsp;columns<br>
&nbsp;&nbsp;&nbsp;&nbsp;verbose&nbsp;(bool):&nbsp;print&nbsp;querys&nbsp;before&nbsp;executing<br>
&nbsp;&nbsp;&nbsp;&nbsp;persistent_conn&nbsp;(bool):&nbsp;keep&nbsp;a&nbsp;persistent&nbsp;sqlite3&nbsp;connection&nbsp;to&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;db.<br>
&nbsp;&nbsp;&nbsp;&nbsp;new_db&nbsp;(bool):&nbsp;create&nbsp;a&nbsp;new&nbsp;database&nbsp;file&nbsp;if&nbsp;one&nbsp;does&nbsp;not&nbsp;already&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exist.&nbsp;Prevents&nbsp;creation&nbsp;of&nbsp;new&nbsp;db&nbsp;if&nbsp;filename&nbsp;is&nbsp;mis-specified.</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Outputs&nbsp;string&nbsp;specifying&nbsp;number&nbsp;of&nbsp;documents&nbsp;in&nbsp;the&nbsp;table.<br>
&nbsp;<br>
Output:&nbsp;string&nbsp;of&nbsp;doc&nbsp;info</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-add"><strong>add</strong></a>(self, datadict, ifnotunique=None, **queryargs)</dt><dd><tt>Adds&nbsp;a&nbsp;single&nbsp;entry&nbsp;where&nbsp;each&nbsp;column&nbsp;is&nbsp;identified&nbsp;by&nbsp;a&nbsp;key-value&nbsp;pair.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Will&nbsp;automatically&nbsp;convert&nbsp;python&nbsp;types&nbsp;to&nbsp;sqlite&nbsp;storage&nbsp;blobs&nbsp;using&nbsp;pickle.<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;datadict:&nbsp;dictionary&nbsp;of&nbsp;column&nbsp;name&nbsp;-&gt;&nbsp;value&nbsp;mappings<br>
&nbsp;&nbsp;&nbsp;&nbsp;ifnotunique:&nbsp;choose&nbsp;what&nbsp;happens&nbsp;when&nbsp;an&nbsp;existing&nbsp;entry&nbsp;matches<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;UNIQUE&nbsp;criteria&nbsp;specified&nbsp;in&nbsp;the&nbsp;schema.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Choose&nbsp;from&nbsp;('REPLACE',&nbsp;'IGNORE').<br>
Output:<br>
&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;response</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-addmany"><strong>addmany</strong></a>(self, data, keys=None, ifnotunique=None, **queryargs)</dt><dd><tt>Adds&nbsp;multiple&nbsp;entries&nbsp;to&nbsp;the&nbsp;database,&nbsp;where&nbsp;column&nbsp;names&nbsp;are&nbsp;specified&nbsp;by&nbsp;"keys".<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;"keys"&nbsp;is&nbsp;not&nbsp;specified,&nbsp;will&nbsp;use&nbsp;all&nbsp;columns&nbsp;(including&nbsp;autoincrement&nbsp;columns).<br>
&nbsp;&nbsp;&nbsp;&nbsp;Will&nbsp;automatically&nbsp;convert&nbsp;python&nbsp;types&nbsp;to&nbsp;sqlite&nbsp;storage&nbsp;blobs&nbsp;using&nbsp;pickle.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;data:&nbsp;lists&nbsp;of&nbsp;tuples&nbsp;representing&nbsp;data&nbsp;for&nbsp;each&nbsp;row<br>
&nbsp;&nbsp;&nbsp;&nbsp;keys:&nbsp;column&nbsp;names&nbsp;corresponding&nbsp;to&nbsp;each&nbsp;tuple&nbsp;entry<br>
&nbsp;&nbsp;&nbsp;&nbsp;ifnotunique:&nbsp;choose&nbsp;what&nbsp;happens&nbsp;when&nbsp;an&nbsp;existing&nbsp;entry&nbsp;matches<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;UNIQUE&nbsp;criteria&nbsp;specified&nbsp;in&nbsp;the&nbsp;schema.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Choose&nbsp;from&nbsp;('REPLACE',&nbsp;'IGNORE').<br>
Output:<br>
&nbsp;&nbsp;&nbsp;&nbsp;sqlite&nbsp;executemany&nbsp;query&nbsp;response</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-commit"><strong>commit</strong></a>(self)</dt><dd><tt>Commits&nbsp;database&nbsp;changes&nbsp;to&nbsp;file.</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-delete"><strong>delete</strong></a>(self, where=None, **queryargs)</dt><dd><tt>Deletes&nbsp;all&nbsp;rows&nbsp;matching&nbsp;the&nbsp;where&nbsp;criteria.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;where:&nbsp;if&nbsp;"*"&nbsp;is&nbsp;specified,&nbsp;will&nbsp;drop&nbsp;all&nbsp;rows.&nbsp;Otherwise<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;fed&nbsp;directly&nbsp;into&nbsp;the&nbsp;query&nbsp;statement.<br>
&nbsp;<br>
Output:<br>
&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;response</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-get"><strong>get</strong></a>(self, sel=None, where=None, orderby=None, limit=None, table=None, verbose=False, asdict=True, **queryargs)</dt><dd><tt>Query&nbsp;rows&nbsp;from&nbsp;database&nbsp;as&nbsp;generator.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;sel:&nbsp;list&nbsp;of&nbsp;fields&nbsp;to&nbsp;retrieve&nbsp;with&nbsp;the&nbsp;query<br>
&nbsp;&nbsp;&nbsp;&nbsp;where:&nbsp;literal&nbsp;SQLite&nbsp;"where"&nbsp;string&nbsp;corresponding&nbsp;to&nbsp;criteria&nbsp;for&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;replacement.<br>
&nbsp;&nbsp;&nbsp;&nbsp;orderby:&nbsp;literal&nbsp;sqlite&nbsp;order&nbsp;by&nbsp;command&nbsp;value.&nbsp;Can&nbsp;be&nbsp;"column_1&nbsp;ASC",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;order&nbsp;by&nbsp;multiple&nbsp;columns&nbsp;using,&nbsp;for&nbsp;instance,&nbsp;"column_1&nbsp;ASC,&nbsp;column_2&nbsp;DESC"<br>
&nbsp;&nbsp;&nbsp;&nbsp;limit:&nbsp;number&nbsp;of&nbsp;rows&nbsp;to&nbsp;retrieve&nbsp;before&nbsp;stopping&nbsp;query.&nbsp;Can&nbsp;be&nbsp;used&nbsp;for&nbsp;quick&nbsp;testing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;table:&nbsp;table&nbsp;name&nbsp;to&nbsp;retrieve&nbsp;for.&nbsp;Default&nbsp;is&nbsp;object&nbsp;table&nbsp;name,&nbsp;but&nbsp;can&nbsp;query&nbsp;from&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;others&nbsp;here.<br>
&nbsp;&nbsp;&nbsp;&nbsp;verbose:&nbsp;True/False&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;or&nbsp;not&nbsp;output&nbsp;should&nbsp;appear.<br>
&nbsp;&nbsp;&nbsp;&nbsp;asdict:&nbsp;True/False&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;rows&nbsp;should&nbsp;be&nbsp;returned&nbsp;as&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lists&nbsp;(False)&nbsp;or&nbsp;as&nbsp;dicts&nbsp;with&nbsp;field&nbsp;names&nbsp;(True&nbsp;&amp;&nbsp;default).<br>
&nbsp;&nbsp;&nbsp;&nbsp;kwargs:&nbsp;to&nbsp;be&nbsp;sent&nbsp;to&nbsp;self.<a href="#doctable.DocTableLegacy-query">query</a>().</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-getdf"><strong>getdf</strong></a>(self, *args, **kwargs)</dt><dd><tt>Query&nbsp;rows&nbsp;from&nbsp;database,&nbsp;return&nbsp;as&nbsp;Pandas&nbsp;DataFrame.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;inputs&nbsp;for&nbsp;self.<a href="#doctable.DocTableLegacy-get">get</a>().</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-query"><strong>query</strong></a>(self, qstr, payload=None, many=False, verbose=False)</dt><dd><tt>Executes&nbsp;raw&nbsp;query&nbsp;using&nbsp;database&nbsp;connection.<br>
&nbsp;<br>
Output:&nbsp;sqlite&nbsp;query&nbsp;conn.execute()&nbsp;output.</tt></dd></dl>

<dl><dt><a name="DocTableLegacy-update"><strong>update</strong></a>(self, values, where, **queryargs)</dt><dd><tt>Updates&nbsp;rows&nbsp;matching&nbsp;the&nbsp;"where"&nbsp;string&nbsp;with&nbsp;specified&nbsp;values.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;values:&nbsp;dictionary&nbsp;of&nbsp;field-&gt;values.&nbsp;all&nbsp;rows&nbsp;which&nbsp;meet&nbsp;the&nbsp;where&nbsp;criteria&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;have&nbsp;these&nbsp;values&nbsp;assigned<br>
&nbsp;&nbsp;&nbsp;&nbsp;where:&nbsp;literal&nbsp;SQLite&nbsp;"where"&nbsp;string&nbsp;corresponding&nbsp;to&nbsp;column&nbsp;criteria&nbsp;for&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;replacement.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;value&nbsp;"*"&nbsp;will&nbsp;match&nbsp;all&nbsp;rows&nbsp;by&nbsp;omitting&nbsp;WHERE&nbsp;statement.<br>
Output:<br>
&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;response</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table>
</body></html>