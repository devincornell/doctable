<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Select Queries with doctable - My Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">My Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../ex_basics/" class="dropdown-item">Basics of doctable</a>
</li>
                                    
<li>
    <a href="../ex_insert_delete/" class="dropdown-item">Insert and Delete Queries with doctable</a>
</li>
                                    
<li>
    <a href="../ex_schemas/" class="dropdown-item">Table Schemas</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Select Queries with doctable</a>
</li>
                                    
<li>
    <a href="../iris_example/" class="dropdown-item">Iris example</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Legacy documentation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../legacy_documentation/dataclass_example/" class="dropdown-item">Dataclass Schema Example</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/dataclass_vignette_advanced/" class="dropdown-item">Advanced dataclass schema vignette</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/depric_vignette_newsgroups/" class="dropdown-item">NewsGroups Dataset Vignette</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/distributed_basics/" class="dropdown-item">Distribute Parallel Processing Basics</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_basics/" class="dropdown-item">DocTable Overview</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_bootstrap/" class="dropdown-item">Document Bootstrapping Examples</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_concurrency/" class="dropdown-item">Concurrent Database Connections</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_connectengine/" class="dropdown-item">Manage SQL Connections with DocTable</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_file_column_types/" class="dropdown-item">DocTable File Column Types</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_insert_delete/" class="dropdown-item">DocTable Examples: Insert and Delete</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_multitable/" class="dropdown-item">Example: Multiple Tables</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_parsetreedoc_column/" class="dropdown-item">ParseTreeDoc Column Types</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_picklefile/" class="dropdown-item">DocTable Example: Pickle and Text Files</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_schema/" class="dropdown-item">DocTable Schemas</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_schema_dataclass/" class="dropdown-item">DocTable Example: Schemas</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_schema_legacy/" class="dropdown-item">DocTable Schemas</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_select/" class="dropdown-item">DocTable Examples: Select</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/doctable_update/" class="dropdown-item">DocTable Examples: Update</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/example_nss_1_intro/" class="dropdown-item">Vignette 1: Storing Document Metadata</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/example_nss_2_parsing/" class="dropdown-item">Vignette 2: Storing Document Text</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/example_nss_3_parsetrees/" class="dropdown-item">Vignette 3: Storing Parsed Documents</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/example_nss_intro_dataclass/" class="dropdown-item">Example 1: US National Security Strategy Document Corpus</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/legacy_adv/" class="dropdown-item">DocTable (slightly more) Advanced Example</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/legacy_simple/" class="dropdown-item">DocTable Simple Example</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/parse_parsepipeline/" class="dropdown-item">ParsePipeline Basics</a>
</li>
                                    
<li>
    <a href="../../legacy_documentation/parse_parsetrees/" class="dropdown-item">Working with doctable Parsetrees</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../ex_schemas/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../iris_example/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#select-queries-with-doctable" class="nav-link">Select Queries with doctable</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#two-interfaces-connectquery-and-tablequery" class="nav-link">Two Interfaces: ConnectQuery and TableQuery</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#connectquery-basics" class="nav-link">ConnectQuery Basics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#tablequery-basics" class="nav-link">TableQuery Basics</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="select-queries-with-doctable">Select Queries with <code>doctable</code></h1>
<p>In this document I will describe the interface for performing select queries with <code>doctable</code>. </p>
<pre><code class="language-python">
import pandas as pd
import numpy as np
import typing

import sys
sys.path.append('..')
import doctable
</code></pre>
<h4 id="define-a-demonstration-schema">Define a demonstration schema</h4>
<p>The very first step is to define a table schema that will be appropriate for our examples. This table includes the typical <code>id</code> column (the first column, specified by <code>order=0</code>), as well as string, integer, and boolean attributes. The object used to specify the schema is called a <em>container</em>, and I will use that terminology as we go.</p>
<pre><code class="language-python">@doctable.table_schema
class Record:
    name: str = doctable.Column(column_args=doctable.ColumnArgs(nullable=False, unique=True))
    age: int = doctable.Column()
    is_old: bool = doctable.Column()

    id: int = doctable.Column(
        column_args=doctable.ColumnArgs(
            order = 0, 
            primary_key=True, 
            autoincrement=True
        ),
    )

core = doctable.ConnectCore.open(target=':memory:', dialect='sqlite', echo=True)

with core.begin_ddl() as ddl:
    rtab = ddl.create_table_if_not_exists(container_type=Record)
</code></pre>
<pre><code>2023-11-13 08:38:32,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,060 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("Record")
2023-11-13 08:38:32,060 INFO sqlalchemy.engine.Engine [raw sql] ()
2023-11-13 08:38:32,061 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("Record")
2023-11-13 08:38:32,062 INFO sqlalchemy.engine.Engine [raw sql] ()
2023-11-13 08:38:32,063 INFO sqlalchemy.engine.Engine 
CREATE TABLE "Record" (
    id INTEGER, 
    age INTEGER, 
    is_old INTEGER, 
    name VARCHAR NOT NULL, 
    PRIMARY KEY (id), 
    UNIQUE (name)
)


2023-11-13 08:38:32,063 INFO sqlalchemy.engine.Engine [no key 0.00039s] ()
2023-11-13 08:38:32,064 INFO sqlalchemy.engine.Engine COMMIT
</code></pre>
<h4 id="insert-test-data">Insert test data</h4>
<p>We insert the test data using the <code>TableQuery</code> interface. Because this document is about select queries, feel free to look over this for now. I show the contents of the table as a dataframe below. The interface for doing this will be covered later in this document.</p>
<pre><code class="language-python">import random
random.seed(0)

new_records: typing.List[Record] = list()
for i in range(10):
    age = int(random.random()*100) # number in [0,1]
    is_old = age &gt; 50
    new_records.append(Record(name='user_'+str(i), age=age, is_old=is_old))

# insert new records
with rtab.query() as q:
    print(q.insert_multi(new_records))

# dataframe select (for example purposes - .df() will be covered later)
with core.query() as q:
    r = q.select(rtab.all_cols()).df()
r
</code></pre>
<pre><code>2023-11-13 08:38:32,104 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,104 INFO sqlalchemy.engine.Engine INSERT OR FAIL INTO "Record" (age, is_old, name) VALUES (?, ?, ?)
2023-11-13 08:38:32,105 INFO sqlalchemy.engine.Engine [generated in 0.00140s] [(84, True, 'user_0'), (75, True, 'user_1'), (42, False, 'user_2'), (25, False, 'user_3'), (51, True, 'user_4'), (40, False, 'user_5'), (78, True, 'user_6'), (30, False, 'user_7'), (47, False, 'user_8'), (58, True, 'user_9')]
&lt;sqlalchemy.engine.cursor.CursorResult object at 0x7feef3d133f0&gt;
2023-11-13 08:38:32,106 INFO sqlalchemy.engine.Engine COMMIT
2023-11-13 08:38:32,109 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,109 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
2023-11-13 08:38:32,109 INFO sqlalchemy.engine.Engine [generated in 0.00102s] ()
2023-11-13 08:38:32,112 INFO sqlalchemy.engine.Engine COMMIT
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>84</td>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>42</td>
      <td>0</td>
      <td>user_2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>25</td>
      <td>0</td>
      <td>user_3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>51</td>
      <td>1</td>
      <td>user_4</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>40</td>
      <td>0</td>
      <td>user_5</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>78</td>
      <td>1</td>
      <td>user_6</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>30</td>
      <td>0</td>
      <td>user_7</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>47</td>
      <td>0</td>
      <td>user_8</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>58</td>
      <td>1</td>
      <td>user_9</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="two-interfaces-connectquery-and-tablequery">Two Interfaces: <code>ConnectQuery</code> and <code>TableQuery</code></h2>
<p>There are two interfaces for performing queries: <code>ConnectQuery</code> and <code>TableQuery</code>. </p>
<ul>
<li>
<p><strong><code>ConnectQuery</code></strong> table-agnostic interface for querying any table in any result format.</p>
</li>
<li>
<p><strong><code>TableQuery</code></strong> table-specific interface for querying a specific table. Insert and select from container objects used to define the schema.</p>
</li>
</ul>
<pre><code class="language-python"># ConnectQuery - table agnostic
with core.query() as q:
    print(type(q))

# TableQuery - queries are relative to specific 
# table, results appear as container objects
with rtab.query() as q:
    print(type(q))
</code></pre>
<pre><code>&lt;class 'doctable.query.connectquery.ConnectQuery'&gt;
&lt;class 'doctable.query.tablequery.TableQuery'&gt;
</code></pre>
<h2 id="connectquery-basics"><code>ConnectQuery</code> Basics</h2>
<p>First I will discuss the <code>ConnectQuery</code> interface, which is created via the <code>ConnectCore.query()</code> method. This object maintains a database connection, and, when used as a context manager, will commit all changes upon exit. It is fine to use the <code>ConnectQuery</code> object without a context manager for queries that do not require commits.</p>
<p>This example is the most basic select query we can execute. Note that <code>ConnectQuery</code> methods are table-agnostic, so we must specify columns to be selected - in this case, we provide <code>rtab.all_cols()</code> to specify that we want to query all columns from the <code>Record</code> table. It returns a <code>sqlalchemy.CursorResult</code> object that we will discuss later.</p>
<pre><code class="language-python">core.query().select(rtab.all_cols())
</code></pre>
<pre><code>2023-11-13 08:38:32,204 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,205 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
2023-11-13 08:38:32,205 INFO sqlalchemy.engine.Engine [cached since 0.09654s ago] ()





&lt;sqlalchemy.engine.cursor.CursorResult at 0x7feef3d88130&gt;
</code></pre>
<h3 id="selecting-specific-columns">Selecting Specific Columns</h3>
<p>In many cases, you would not want to select all columns from a given table - for this reason, there are several methods you can use to specify the desired columns. In addition to <code>.all_cols()</code> in the above snippet, you may use any of these methods.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.all_cols()</code></td>
<td>specify that we want all columns</td>
</tr>
<tr>
<td><code>.cols('col1', 'col2')</code></td>
<td>specify set of columns</td>
</tr>
<tr>
<td><code>table['col1']</code></td>
<td>specify single column</td>
</tr>
<tr>
<td><code>table[['col1', 'col2']]</code></td>
<td>specify multiple columns</td>
</tr>
<tr>
<td><code>table['col1':'col3']</code></td>
<td>specify sequential range of columns</td>
</tr>
</tbody>
</table>
<pre><code class="language-python"># select all columns
rtab.all_cols()
</code></pre>
<pre><code>[Column('id', Integer(), table=&lt;Record&gt;, primary_key=True),
 Column('age', Integer(), table=&lt;Record&gt;),
 Column('is_old', Integer(), table=&lt;Record&gt;),
 Column('name', String(), table=&lt;Record&gt;, nullable=False)]
</code></pre>
<pre><code class="language-python"># .cols method
rtab.cols('id', 'name')
</code></pre>
<pre><code>[Column('id', Integer(), table=&lt;Record&gt;, primary_key=True),
 Column('name', String(), table=&lt;Record&gt;, nullable=False)]
</code></pre>
<pre><code class="language-python"># single-column subscript
rtab['age']
</code></pre>
<pre><code>Column('age', Integer(), table=&lt;Record&gt;)
</code></pre>
<pre><code class="language-python"># list of columns
rtab[['id','is_old']]
</code></pre>
<pre><code>[Column('id', Integer(), table=&lt;Record&gt;, primary_key=True),
 Column('is_old', Integer(), table=&lt;Record&gt;)]
</code></pre>
<pre><code class="language-python"># slice select
rtab['id':'is_old']
</code></pre>
<pre><code>[Column('id', Integer(), table=&lt;Record&gt;, primary_key=True),
 Column('age', Integer(), table=&lt;Record&gt;),
 Column('is_old', Integer(), table=&lt;Record&gt;)]
</code></pre>
<p>Note that the <code>.select()</code> method requires a list of columns, so we can combine these methods by combining the lists they return. Obviously, the order matters for the returned values.</p>
<pre><code class="language-python">rtab.cols('id','is_old') + [rtab['name']]
</code></pre>
<pre><code>[Column('id', Integer(), table=&lt;Record&gt;, primary_key=True),
 Column('is_old', Integer(), table=&lt;Record&gt;),
 Column('name', String(), table=&lt;Record&gt;, nullable=False)]
</code></pre>
<p>The <code>.select()</code> method always accepts a list of columns, so be sure to wrap single-column selections in a list.</p>
<pre><code class="language-python">core.query().select([rtab['name']])
</code></pre>
<pre><code>2023-11-13 08:38:32,540 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,541 INFO sqlalchemy.engine.Engine SELECT "Record".name 
FROM "Record"
2023-11-13 08:38:32,542 INFO sqlalchemy.engine.Engine [generated in 0.00130s] ()





&lt;sqlalchemy.engine.cursor.CursorResult at 0x7feef3d12f90&gt;
</code></pre>
<pre><code class="language-python">core.query().select(rtab.cols('id','is_old') + [rtab['name']])
</code></pre>
<pre><code>2023-11-13 08:38:32,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,590 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".is_old, "Record".name 
FROM "Record"
2023-11-13 08:38:32,590 INFO sqlalchemy.engine.Engine [generated in 0.00142s] ()





&lt;sqlalchemy.engine.cursor.CursorResult at 0x7feef3d89010&gt;
</code></pre>
<h3 id="working-with-query-results">Working with Query Results</h3>
<p>Now we turn to working with the results objects. So far I have demonstrated values for returning <code>sqlalchemy.CursorResult</code> objects, but additional methods are required to return the results in a usable format. The following methods are available for various purposes:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>result.all()</code></td>
<td>return all results in query</td>
</tr>
<tr>
<td><code>result.df()</code></td>
<td>return multiple results as a dataframe</td>
</tr>
<tr>
<td><code>result.first()</code></td>
<td>return first result in query</td>
</tr>
<tr>
<td><code>result.one()</code></td>
<td>return exactly one result in query. NOTE: raises exception if not exactly one result.</td>
</tr>
<tr>
<td><code>result.scalar_one()</code></td>
<td>return single result, end query. NOTE: raises exception if not exactly one result.</td>
</tr>
<tr>
<td><code>result.scalars().all()</code></td>
<td>return single column of results</td>
</tr>
</tbody>
</table>
<pre><code class="language-python">with core.query() as q:
    r = q.select(rtab.all_cols(), limit=3)
r.all()
</code></pre>
<pre><code>2023-11-13 08:38:32,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,638 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:32,639 INFO sqlalchemy.engine.Engine [generated in 0.00185s] (3, 0)
2023-11-13 08:38:32,640 INFO sqlalchemy.engine.Engine COMMIT





[(1, 84, 1, 'user_0'), (2, 75, 1, 'user_1'), (3, 42, 0, 'user_2')]
</code></pre>
<pre><code class="language-python">core.query().select(rtab.all_cols(), limit=3).df()
</code></pre>
<pre><code>2023-11-13 08:38:32,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,690 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:32,690 INFO sqlalchemy.engine.Engine [cached since 0.05336s ago] (3, 0)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>84</td>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>42</td>
      <td>0</td>
      <td>user_2</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># raises exception without limit=1
core.query().select(rtab.all_cols()).first()
</code></pre>
<pre><code>2023-11-13 08:38:32,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,741 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
2023-11-13 08:38:32,742 INFO sqlalchemy.engine.Engine [cached since 0.6331s ago] ()





(1, 84, 1, 'user_0')
</code></pre>
<pre><code class="language-python"># raises exception if more than one result is returned 
# (here I forced this with limit=1)
core.query().select(rtab.all_cols(), limit=1).one()
</code></pre>
<pre><code>2023-11-13 08:38:32,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,789 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:32,790 INFO sqlalchemy.engine.Engine [cached since 0.1527s ago] (1, 0)





(1, 84, 1, 'user_0')
</code></pre>
<pre><code class="language-python"># this returns the first column from the first row, then closes the cursor
core.query().select(rtab.all_cols(), limit=1).scalar_one()
</code></pre>
<pre><code>2023-11-13 08:38:32,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,838 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:32,838 INFO sqlalchemy.engine.Engine [cached since 0.2012s ago] (1, 0)





1
</code></pre>
<pre><code class="language-python"># it makes more sense to query a single column
core.query().select(rtab.cols('is_old'), limit=1).scalar_one()
</code></pre>
<pre><code>2023-11-13 08:38:32,889 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,890 INFO sqlalchemy.engine.Engine SELECT "Record".is_old 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:32,890 INFO sqlalchemy.engine.Engine [generated in 0.00136s] (1, 0)





1
</code></pre>
<pre><code class="language-python"># and when when you need a single column, use .scalars() instead of .all()
core.query().select(rtab.cols('is_old')).scalars().all()
</code></pre>
<pre><code>2023-11-13 08:38:32,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,941 INFO sqlalchemy.engine.Engine SELECT "Record".is_old 
FROM "Record"
2023-11-13 08:38:32,941 INFO sqlalchemy.engine.Engine [generated in 0.00138s] ()





[1, 1, 0, 0, 1, 0, 1, 0, 0, 1]
</code></pre>
<h3 id="conditional-select-statements">Conditional Select Statements</h3>
<table>
<thead>
<tr>
<th>operator</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&amp;</code>, <code>doctable.exp.and_()</code></td>
<td>and</td>
</tr>
<tr>
<td><code>\|</code>, <code>doctable.exp.or_()</code></td>
<td>or</td>
</tr>
<tr>
<td><code>==</code></td>
<td>equals</td>
</tr>
<tr>
<td><code>!=</code>, <code>doctable.exp.not_()</code></td>
<td>not equals</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>greater than</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>greater than or equal to</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>less than</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>less than or equal to</td>
</tr>
<tr>
<td><code>in_()</code></td>
<td>in list</td>
</tr>
<tr>
<td><code>contains()</code></td>
<td>check if item is substring</td>
</tr>
<tr>
<td><code>like()</code></td>
<td>like string</td>
</tr>
<tr>
<td><code>ilike()</code></td>
<td>case-insensitive like string</td>
</tr>
<tr>
<td><code>between()</code>, <code>doctable.exp.between()</code></td>
<td>between two values</td>
</tr>
<tr>
<td><code>is_()</code></td>
<td>is value</td>
</tr>
<tr>
<td><code>isnot()</code></td>
<td>is not value</td>
</tr>
<tr>
<td><code>startswith()</code></td>
<td>starts with string</td>
</tr>
</tbody>
</table>
<pre><code class="language-python">core.query().select(rtab.all_cols(), where=rtab['id']==2).df()
</code></pre>
<pre><code>2023-11-13 08:38:32,989 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:32,990 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".id = ?
2023-11-13 08:38:32,990 INFO sqlalchemy.engine.Engine [generated in 0.00131s] (2,)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">core.query().select(rtab.all_cols(), where=rtab['id']&lt;rtab['id']).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,037 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,038 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".id &lt; "Record".id
2023-11-13 08:38:33,038 INFO sqlalchemy.engine.Engine [generated in 0.00128s] ()
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>

<pre><code class="language-python">core.query().select(rtab.all_cols(), where=(rtab['id']%2)==0).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,090 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".id % ? = ?
2023-11-13 08:38:33,091 INFO sqlalchemy.engine.Engine [generated in 0.00138s] (2, 0)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>25</td>
      <td>0</td>
      <td>user_3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6</td>
      <td>40</td>
      <td>0</td>
      <td>user_5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>8</td>
      <td>30</td>
      <td>0</td>
      <td>user_7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10</td>
      <td>58</td>
      <td>1</td>
      <td>user_9</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">condition = (rtab['id']&gt;=2) &amp; (rtab['id']&lt;=4) &amp; (rtab['name']!='user_2')
core.query().select(rtab.all_cols(), where=condition).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,142 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,143 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".id &gt;= ? AND "Record".id &lt;= ? AND "Record".name != ?
2023-11-13 08:38:33,143 INFO sqlalchemy.engine.Engine [generated in 0.00147s] (2, 4, 'user_2')
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>25</td>
      <td>0</td>
      <td>user_3</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">condition = rtab['name'].in_(('user_2','user_3'))
core.query().select(rtab.all_cols(), where=condition).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,194 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,195 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".name IN (?, ?)
2023-11-13 08:38:33,195 INFO sqlalchemy.engine.Engine [generated in 0.00146s] ('user_2', 'user_3')
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3</td>
      <td>42</td>
      <td>0</td>
      <td>user_2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>25</td>
      <td>0</td>
      <td>user_3</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">core.query().select(rtab.all_cols(), where=rtab['id'].between(2,4)).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,247 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".id BETWEEN ? AND ?
2023-11-13 08:38:33,247 INFO sqlalchemy.engine.Engine [generated in 0.00134s] (2, 4)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3</td>
      <td>42</td>
      <td>0</td>
      <td>user_2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4</td>
      <td>25</td>
      <td>0</td>
      <td>user_3</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">condition = ~(rtab['name'].in_(('user_2','user_3'))) &amp; (rtab['id'] &lt; 4)
core.query().select(rtab.all_cols(), where=condition).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,298 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,299 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE ("Record".name NOT IN (?, ?)) AND "Record".id &lt; ?
2023-11-13 08:38:33,300 INFO sqlalchemy.engine.Engine [generated in 0.00171s] ('user_2', 'user_3', 4)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>84</td>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">condition = doctable.exp.or_(doctable.exp.not_(rtab['id']==4)) &amp; (rtab['id'] &lt;= 2)
core.query().select(rtab.all_cols(), where=condition).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,351 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".id != ? AND "Record".id &lt;= ?
2023-11-13 08:38:33,352 INFO sqlalchemy.engine.Engine [generated in 0.00181s] (4, 2)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>84</td>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">with core.query() as q:
    ages = q.select([rtab['age']]).scalars().all()
    mean_age = sum(ages)/len(ages)
    result = q.select(rtab.all_cols(), where=rtab['age']&gt;mean_age)
result.df()
</code></pre>
<pre><code>2023-11-13 08:38:33,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,404 INFO sqlalchemy.engine.Engine SELECT "Record".age 
FROM "Record"
2023-11-13 08:38:33,404 INFO sqlalchemy.engine.Engine [generated in 0.00155s] ()
2023-11-13 08:38:33,406 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".age &gt; ?
2023-11-13 08:38:33,406 INFO sqlalchemy.engine.Engine [generated in 0.00045s] (53.0,)
2023-11-13 08:38:33,407 INFO sqlalchemy.engine.Engine COMMIT
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>84</td>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7</td>
      <td>78</td>
      <td>1</td>
      <td>user_6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>10</td>
      <td>58</td>
      <td>1</td>
      <td>user_9</td>
    </tr>
  </tbody>
</table>
</div>

<h3 id="column-operators">Column Operators</h3>
<p>In addition to any of the methods used for conditional selects, there are several additional methods that can be used to transform columns in the select statement.</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.label()</code></td>
<td>rename column in result (particularly useful after transformations)</td>
</tr>
<tr>
<td><code>.min()</code>, <code>doctable.f.min()</code></td>
<td>max of column values</td>
</tr>
<tr>
<td><code>.max()</code>, <code>doctable.f.max()</code></td>
<td>max of column values</td>
</tr>
<tr>
<td><code>.sum()</code>, <code>doctable.f.sum()</code></td>
<td>sum of column</td>
</tr>
<tr>
<td><code>.count()</code>, <code>doctable.f.count()</code></td>
<td>count number of results. <em>NOTE</em>: must use <code>f.count()</code> when counting transformed columns.</td>
</tr>
<tr>
<td><code>.distinct()</code>, <code>doctable.f.distinct()</code></td>
<td>get distinct values</td>
</tr>
<tr>
<td><code>/</code></td>
<td>divide</td>
</tr>
<tr>
<td><code>*</code></td>
<td>multiply</td>
</tr>
<tr>
<td><code>+</code></td>
<td>add</td>
</tr>
<tr>
<td><code>-</code></td>
<td>subtract</td>
</tr>
<tr>
<td><code>%</code></td>
<td>modulo</td>
</tr>
<tr>
<td><code>.concat()</code></td>
<td>concatenate strings</td>
</tr>
</tbody>
</table>
<pre><code class="language-python">columns = [
    (rtab['id'] % 2).label('mod_id'), 
    rtab['name'].label('myname')
]
core.query().select(columns, where=rtab['is_old']).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,457 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,458 INFO sqlalchemy.engine.Engine SELECT "Record".id % ? AS mod_id, "Record".name AS myname 
FROM "Record" 
WHERE "Record".is_old
2023-11-13 08:38:33,458 INFO sqlalchemy.engine.Engine [generated in 0.00153s] (2,)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mod_id</th>
      <th>myname</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>user_4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>user_6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>user_9</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">formula = rtab['age'].sum() / rtab['age'].count()
core.query().select([formula]).scalar_one()
</code></pre>
<pre><code>2023-11-13 08:38:33,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,511 INFO sqlalchemy.engine.Engine SELECT sum("Record".age) / (count("Record".age) + 0.0) AS anon_1 
FROM "Record"
2023-11-13 08:38:33,511 INFO sqlalchemy.engine.Engine [generated in 0.00153s] ()





Decimal('53.0000000000')
</code></pre>
<pre><code class="language-python">formula = rtab['age'].max() - rtab['age'].min()
core.query().select([formula]).scalar_one()
</code></pre>
<pre><code>2023-11-13 08:38:33,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,562 INFO sqlalchemy.engine.Engine SELECT max("Record".age) - min("Record".age) AS anon_1 
FROM "Record"
2023-11-13 08:38:33,563 INFO sqlalchemy.engine.Engine [generated in 0.00155s] ()





59
</code></pre>
<pre><code class="language-python"># average age of individuals over 30
formula = rtab['age'].sum() / rtab['age'].count()
condition = rtab['age'] &gt; 30
core.query().select([formula], where=condition).scalar_one()
</code></pre>
<pre><code>2023-11-13 08:38:33,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,615 INFO sqlalchemy.engine.Engine SELECT sum("Record".age) / (count("Record".age) + 0.0) AS anon_1 
FROM "Record" 
WHERE "Record".age &gt; ?
2023-11-13 08:38:33,615 INFO sqlalchemy.engine.Engine [generated in 0.00140s] (30,)





Decimal('59.3750000000')
</code></pre>
<pre><code class="language-python"># descriptive stats on age of individuals over 30
columns = [
    (rtab['age'].sum() / rtab['age'].count()).label('mean'),
    rtab['age'].max().label('max'),
    rtab['age'].min().label('min'),
]
condition = rtab['age'] &gt; 30
core.query().select(columns, where=condition).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,666 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,667 INFO sqlalchemy.engine.Engine SELECT sum("Record".age) / (count("Record".age) + 0.0) AS mean, max("Record".age) AS max, min("Record".age) AS min 
FROM "Record" 
WHERE "Record".age &gt; ?
2023-11-13 08:38:33,667 INFO sqlalchemy.engine.Engine [generated in 0.00142s] (30,)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>max</th>
      <th>min</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>59.3750000000</td>
      <td>84</td>
      <td>40</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># all distinct values
formula = rtab['is_old'].distinct()
core.query().select([formula]).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,717 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,718 INFO sqlalchemy.engine.Engine SELECT distinct("Record".is_old) AS distinct_1 
FROM "Record"
2023-11-13 08:38:33,718 INFO sqlalchemy.engine.Engine [generated in 0.00171s] ()
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>distinct_1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># count individuals over 30
core.query().select([doctable.f.count()], where=rtab['age']&gt;30).scalar_one()
</code></pre>
<pre><code>2023-11-13 08:38:33,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,766 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM "Record" 
WHERE "Record".age &gt; ?
2023-11-13 08:38:33,767 INFO sqlalchemy.engine.Engine [generated in 0.00157s] (30,)





8
</code></pre>
<pre><code class="language-python"># similar to previous
core.query().select([rtab['id'].count()], where=rtab['age']&gt;30).scalar_one()
</code></pre>
<pre><code>2023-11-13 08:38:33,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,818 INFO sqlalchemy.engine.Engine SELECT count("Record".id) AS count_1 
FROM "Record" 
WHERE "Record".age &gt; ?
2023-11-13 08:38:33,818 INFO sqlalchemy.engine.Engine [generated in 0.00127s] (30,)





8
</code></pre>
<h3 id="additional-parameters-order-by-group-by-limit-offset">Additional Parameters: Order By, Group By, Limit, Offset</h3>
<p>More complicated queries involving ordering, grouping, limiting, and specifying offset can be specified using parameters to the <code>.select()</code> method.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>limit</code></td>
<td>limit number of results</td>
</tr>
<tr>
<td><code>order_by</code></td>
<td>list of columns to order by</td>
</tr>
<tr>
<td><code>group_by</code></td>
<td>list of columns to group by</td>
</tr>
<tr>
<td><code>offset</code></td>
<td>offset results by specified number</td>
</tr>
</tbody>
</table>
<h4 id="order-by-and-limits">Order By and Limits</h4>
<pre><code class="language-python"># get the five youngest individuals in order
core.query().select(rtab.all_cols(), order_by=rtab['age'], limit=5).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,865 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,865 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" ORDER BY "Record".age
 LIMIT ? OFFSET ?
2023-11-13 08:38:33,866 INFO sqlalchemy.engine.Engine [generated in 0.00127s] (5, 0)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>25</td>
      <td>0</td>
      <td>user_3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>8</td>
      <td>30</td>
      <td>0</td>
      <td>user_7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6</td>
      <td>40</td>
      <td>0</td>
      <td>user_5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>42</td>
      <td>0</td>
      <td>user_2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>9</td>
      <td>47</td>
      <td>0</td>
      <td>user_8</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># get the five oldest now
core.query().select(rtab.all_cols(), order_by=rtab['age'].desc(), limit=5).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,914 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" ORDER BY "Record".age DESC
 LIMIT ? OFFSET ?
2023-11-13 08:38:33,915 INFO sqlalchemy.engine.Engine [generated in 0.00165s] (5, 0)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>84</td>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7</td>
      <td>78</td>
      <td>1</td>
      <td>user_6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>10</td>
      <td>58</td>
      <td>1</td>
      <td>user_9</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>51</td>
      <td>1</td>
      <td>user_4</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># order by is_old, but preserve order of id otherwise
order = [
    rtab['is_old'].desc(),
    rtab['id'].asc(),
]
core.query().select(rtab.all_cols(), order_by=order, limit=5).df()
</code></pre>
<pre><code>2023-11-13 08:38:33,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:33,966 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" ORDER BY "Record".is_old DESC, "Record".id ASC
 LIMIT ? OFFSET ?
2023-11-13 08:38:33,966 INFO sqlalchemy.engine.Engine [generated in 0.00135s] (5, 0)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>84</td>
      <td>1</td>
      <td>user_0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>75</td>
      <td>1</td>
      <td>user_1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>51</td>
      <td>1</td>
      <td>user_4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7</td>
      <td>78</td>
      <td>1</td>
      <td>user_6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10</td>
      <td>58</td>
      <td>1</td>
      <td>user_9</td>
    </tr>
  </tbody>
</table>
</div>

<h4 id="grouping-and-column-operators">Grouping and Column Operators</h4>
<pre><code class="language-python"># summary stats by is_old
cols = [
    #rtab['is_old'].count().label('count'),
    doctable.f.count().label('count'),
    rtab['age'].min().label('min'),
    rtab['age'].max().label('max'),
    (rtab['age'].sum()/rtab['age'].count()).label('mean'),
]
core.query().select(cols, group_by=rtab['is_old']).df()
</code></pre>
<pre><code>2023-11-13 08:38:34,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,019 INFO sqlalchemy.engine.Engine SELECT count(*) AS count, min("Record".age) AS min, max("Record".age) AS max, sum("Record".age) / (count("Record".age) + 0.0) AS mean 
FROM "Record" GROUP BY "Record".is_old
2023-11-13 08:38:34,019 INFO sqlalchemy.engine.Engine [generated in 0.00141s] ()
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>min</th>
      <th>max</th>
      <th>mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5</td>
      <td>25</td>
      <td>47</td>
      <td>36.8000000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5</td>
      <td>51</td>
      <td>84</td>
      <td>69.2000000000</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python"># summarize age by decade
decade_expression = doctable.f.round(rtab['age'] / 10)
cols = [
    decade_expression.label('decade'),
    rtab['age'].count().label('count'),
    rtab['age'].min().label('min'),
    rtab['age'].max().label('max'),
    (rtab['age'].sum()/rtab['age'].count()).label('mean'),
]
core.query().select(cols, group_by=decade_expression).df()
</code></pre>
<pre><code>2023-11-13 08:38:34,070 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,071 INFO sqlalchemy.engine.Engine SELECT round("Record".age / (? + 0.0)) AS decade, count("Record".age) AS count, min("Record".age) AS min, max("Record".age) AS max, sum("Record".age) / (count("Record".age) + 0.0) AS mean 
FROM "Record" GROUP BY round("Record".age / (? + 0.0))
2023-11-13 08:38:34,072 INFO sqlalchemy.engine.Engine [generated in 0.00134s] (10, 10)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>decade</th>
      <th>count</th>
      <th>min</th>
      <th>max</th>
      <th>mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3.0</td>
      <td>2</td>
      <td>25</td>
      <td>30</td>
      <td>27.5000000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.0</td>
      <td>2</td>
      <td>40</td>
      <td>42</td>
      <td>41.0000000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5.0</td>
      <td>2</td>
      <td>47</td>
      <td>51</td>
      <td>49.0000000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6.0</td>
      <td>1</td>
      <td>58</td>
      <td>58</td>
      <td>58.0000000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>8.0</td>
      <td>3</td>
      <td>75</td>
      <td>84</td>
      <td>79.0000000000</td>
    </tr>
  </tbody>
</table>
</div>

<h4 id="offset-and-selecting-chunks">Offset and Selecting Chunks</h4>
<p>The <code>offset</code> parameter is used to pagify results into multiple queries - something that is particularly useful if the result set is too larget to fit into memory.</p>
<pre><code class="language-python"># get the three oldest individuals, offset by three
core.query().select(rtab.all_cols(), order_by=rtab['age'].desc(), limit=3, offset=3).df()
</code></pre>
<pre><code>2023-11-13 08:38:34,121 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,121 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" ORDER BY "Record".age DESC
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,122 INFO sqlalchemy.engine.Engine [generated in 0.00137s] (3, 3)
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>age</th>
      <th>is_old</th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10</td>
      <td>58</td>
      <td>1</td>
      <td>user_9</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5</td>
      <td>51</td>
      <td>1</td>
      <td>user_4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>47</td>
      <td>0</td>
      <td>user_8</td>
    </tr>
  </tbody>
</table>
</div>

<pre><code class="language-python">for chunk in core.query().select_chunks(rtab.all_cols(), chunksize=3):
    print(chunk)
</code></pre>
<pre><code>2023-11-13 08:38:34,169 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,169 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,170 INFO sqlalchemy.engine.Engine [generated in 0.00117s] (3, 0)
[(1, 84, 1, 'user_0'), (2, 75, 1, 'user_1'), (3, 42, 0, 'user_2')]
2023-11-13 08:38:34,171 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,171 INFO sqlalchemy.engine.Engine [cached since 0.002855s ago] (3, 3)
[(4, 25, 0, 'user_3'), (5, 51, 1, 'user_4'), (6, 40, 0, 'user_5')]
2023-11-13 08:38:34,172 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,173 INFO sqlalchemy.engine.Engine [cached since 0.004328s ago] (3, 6)
[(7, 78, 1, 'user_6'), (8, 30, 0, 'user_7'), (9, 47, 0, 'user_8')]
2023-11-13 08:38:34,175 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,175 INFO sqlalchemy.engine.Engine [cached since 0.006853s ago] (3, 9)
[(10, 58, 1, 'user_9')]
</code></pre>
<h2 id="tablequery-basics"><code>TableQuery</code> Basics</h2>
<p>The <code>TableQuery</code> interface is used to make table-specific queries, and, in exchange for this restriction, allows you to insert and select container objects directly. Queries on tables look much like their table-agnostic counterparts, with a few exceptions. Every query still begins with the <code>.query()</code> method, which returns a <code>TableQuery</code> object with methods for inserting and selecting container objects.</p>
<ol>
<li>
<p>List of selected columns is optional - if you do not specify, the query will default to all columns in the table. Otherwise, you should provide a subset of the columns, where all attributes that were not received will refer to <code>doctable.MISSING</code>, which you may check for downstream.</p>
</li>
<li>
<p>Results of a select query are returned as a list of container objects. This means that we have called the <code>.all()</code> method on the <code>sqlalchemy.CursorResult</code> object.</p>
</li>
<li>
<p>All returned results must match the attributes of the container object. Most often you will want to select raw database rows, but transformations via <code>group_by</code> and other operators are also possible as long as the result set attributes match the container attributes - that is, they can be expanded to the container constructor.</p>
</li>
<li>
<p>Behavior of <code>where</code>, <code>order_by</code>, <code>limit</code>, are <code>offset</code> all operate as-expected.</p>
</li>
</ol>
<p>Below you can see a few examples demonstrating this behavior.</p>
<pre><code class="language-python">rtab.query().select(where=rtab['age']&gt;50)
</code></pre>
<pre><code>2023-11-13 08:38:34,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,218 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record" 
WHERE "Record".age &gt; ?
2023-11-13 08:38:34,219 INFO sqlalchemy.engine.Engine [generated in 0.00128s] (50,)





[Record(name='user_0', age=84, is_old=1, id=1),
 Record(name='user_1', age=75, is_old=1, id=2),
 Record(name='user_4', age=51, is_old=1, id=5),
 Record(name='user_6', age=78, is_old=1, id=7),
 Record(name='user_9', age=58, is_old=1, id=10)]
</code></pre>
<pre><code class="language-python">result = rtab.query().select(rtab.cols('id', 'age'), where=rtab['is_old'])
f'{result[0].name is doctable.MISSING=}', result
</code></pre>
<pre><code>2023-11-13 08:38:34,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,269 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age 
FROM "Record" 
WHERE "Record".is_old
2023-11-13 08:38:34,270 INFO sqlalchemy.engine.Engine [generated in 0.00134s] ()





('result[0].name is doctable.MISSING=True',
 [Record(name=MISSING, age=84, is_old=MISSING, id=1),
  Record(name=MISSING, age=75, is_old=MISSING, id=2),
  Record(name=MISSING, age=51, is_old=MISSING, id=5),
  Record(name=MISSING, age=78, is_old=MISSING, id=7),
  Record(name=MISSING, age=58, is_old=MISSING, id=10)])
</code></pre>
<pre><code class="language-python"># this is valid, although perhaps not recommended
cols = [
    (rtab['age'].sum()/rtab['age'].count()).label('age'),
]
rtab.query().select(cols=cols)
</code></pre>
<pre><code>2023-11-13 08:38:34,317 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,318 INFO sqlalchemy.engine.Engine SELECT sum("Record".age) / (count("Record".age) + 0.0) AS age 
FROM "Record"
2023-11-13 08:38:34,318 INFO sqlalchemy.engine.Engine [generated in 0.00123s] ()





[Record(name=MISSING, age=Decimal('53.0000000000'), is_old=MISSING, id=MISSING)]
</code></pre>
<p><code>.select_chunks()</code> also more or less works as-expected, with the chunks being converted to container objects.</p>
<pre><code class="language-python">for chunk in rtab.query().select_chunks(chunksize=3):
    print(chunk)
</code></pre>
<pre><code>2023-11-13 08:38:34,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2023-11-13 08:38:34,365 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,365 INFO sqlalchemy.engine.Engine [cached since 0.1964s ago] (3, 0)
[Record(name='user_0', age=84, is_old=1, id=1), Record(name='user_1', age=75, is_old=1, id=2), Record(name='user_2', age=42, is_old=0, id=3)]
2023-11-13 08:38:34,366 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,367 INFO sqlalchemy.engine.Engine [cached since 0.198s ago] (3, 3)
[Record(name='user_3', age=25, is_old=0, id=4), Record(name='user_4', age=51, is_old=1, id=5), Record(name='user_5', age=40, is_old=0, id=6)]
2023-11-13 08:38:34,368 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,368 INFO sqlalchemy.engine.Engine [cached since 0.1994s ago] (3, 6)
[Record(name='user_6', age=78, is_old=1, id=7), Record(name='user_7', age=30, is_old=0, id=8), Record(name='user_8', age=47, is_old=0, id=9)]
2023-11-13 08:38:34,369 INFO sqlalchemy.engine.Engine SELECT "Record".id, "Record".age, "Record".is_old, "Record".name 
FROM "Record"
 LIMIT ? OFFSET ?
2023-11-13 08:38:34,369 INFO sqlalchemy.engine.Engine [cached since 0.2007s ago] (3, 9)
[Record(name='user_9', age=58, is_old=1, id=10)]
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
